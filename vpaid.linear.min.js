!function(t,e,i){function a(){this.audibilityFired=!1,this.secondsAudible=0}function r(e){this.rootElement=e,this.intersectionSupport=!!t.IntersectionObserver,this.intersectionRatio=-1}function o(t){switch(t.type){case v.AdVideoStart:p.hide(!1),u.state=v.AdImpression,u.state=v.AdVideoStart,m.start(),f.start();break;case v.AdRemainingTimeChange:u.metaData=t.data;break;case v.AdError:u.state=v.AdError,h.customEvent(v.AdError+"_"+d.MEDIA_FILES_ERROR.code),m.stop(!0),f.stop(!0),setTimeout(function(){A.stopAd()},250);break;case v.AdVideoComplete:u.customParams.fdc?(s.d(v.create(v.AdVideoComplete,u.metaData)),p.hide(!0),setTimeout(function(){A.stopAd()},u.customParams.daf)):(u.state=v.AdVideoComplete,u.flags.MRCViewable&&u.customParams.pg&&h.customEvent("AdVideoCompleteMRC"),m.stop(),f.stop(),p.hide(!0),setTimeout(function(){A.stopAd()},u.customParams.daf));break;case v.AdPaused:u.state=v.AdPaused;break;case v.AdPlaying:u.state=v.AdPlaying;break;default:E.error("======================== UNTREATED MEDIA EVENT ========================>",t)}}function n(t){if("event"===t.type)return h.customEvent(t.data.type);if("apply"===t.type)return"resumeAd"===t.data.method&&u.flags.userEngaged&&(u.flags.userEngaged=!1),"function"==typeof A[t.data.method]?A[t.data.method].apply(A,t.data.args):"function"==typeof p[t.data.method]?p[t.data.method].apply(p,t.data.args):E.error('CAN\'T "apply" METHOD =>',t.data.method);if("action"===t.type)switch(t.data.type){case v.AdLoaded:var e=u.adParameters.settingspath?u.adParameters.settingspath:u.adParameters.submediapath?u.adParameters.submediapath:u.adParameters.mediapath;p.update({type:"SetConfig",data:{clickUrl:h.getClickURL("default"),customParams:u.customParams,defaultVolume:u.defaultVolume,location:u.location,domain:u.hostname,ssp:u.customParams.impid,mediapath:e}}),p.hide(!0),l.init(p.videoElement)?(u.state=v.AdLoaded,u.linear=!0):(u.metaData=d.MEDIA_FILES_NOT_FOUND,u.state=v.AdError,h.customEvent(v.AdError+"_"+d.MEDIA_FILES_NOT_FOUND.code));break;case v.AdClickThru:t.data.url?s.d(v.create(v.AdClickThru,{playerHandles:!0,id:t.data.id,url:t.data.url})):s.d(v.create(v.AdClickThru,{playerHandles:!1,id:t.data.id})),h.trackEvent(v.AdClickThru),u.customParams.cet&&Math.round(u.metaData.currentTime)>=0&&h.customEvent("AdVideoClick"+Math.round(u.metaData.currentTime));break;case v.AdUserClose:u.state=v.AdUserClose,l.stop(),m.stop(),f.stop(),p.hide(!0),setTimeout(function(){A.stopAd()},u.customParams.daf);break;default:E.error("======================== UNTREATED VIEW EVENT ========================>",t)}else E.error("UNKNOWN TYPE VIEW EVENT =>",t)}var s,d,u,c,l,p,h,m,f,A,v,g,E;s={subscribers:{},subscribe:function(t,e,i){"string"==typeof e&&(e=[e]);for(var a=0,r=e.length;a<r;a++){var o=e[a];this.subscribers[o]||(this.subscribers[o]=[]),this.subscribers[o].push({fn:t,ctx:i||null})}},unsubscribe:function(t,e){"string"==typeof e&&(e=[e]);for(var i=e.length;i>=0;i--){var a=this.subscribers[e[i]];if(a&&Array.isArray(a)&&a.length)for(var r=a.length-1;r>=0;r--)"undefined"!=typeof a[r]&&a[r].fn===t&&a.splice(r,1)}},d:function(t){t.type!=v.AdRemainingTimeChange&&E.log("DispatchEvent =>",t.type,f?f.getViewAbility(u.viewAbilityPercent,u.viewAbilityHasFocus).state:"",(this.subscribers[t.type]||[]).length),(this.subscribers[t.type]||[]).forEach(function(e){e.fn&&(t.type==v.AdClickThru&&u.customParams.plc?e.fn.call(e.ctx,t.data.url,t.data.id,t.data.playerHandles):e.fn.call(e.ctx,t))})}},d={WRONG_INIT_PARAMS:{code:900,message:"Initialization parameters are wrong"},WRONG_AD_PARAMETERS:{code:900,message:"Can't parse AdParameters"},NOT_ALLOWED_METHOD:{code:0,message:"This method is not supported"},MEDIA_FILES_ERROR:{code:405,message:"Could not display mediaFile"},MEDIA_FILES_NOT_FOUND:{code:403,message:"Supported mediaFiles not found"}},u=Object.create(Object.prototype,{linear:{get:function(){return this._linear||!0},set:function(t){this._linear!==t&&(this._linear=t,s.d(v.create(v.AdLinearChange,{value:t})))}},isPreviewer:{get:function(){return this._isPreviewer||(this._isPreviewer="none",f.getPosition()!==r.X_FRAME&&(this._isPreviewer="clients.weborama.nl"==t.top.location.host?"preview":"none")),"preview"==this._isPreviewer}},remainingTime:{get:function(){return this._remainingTime||-1},set:function(t){this.remainingTime!==t&&(this._remainingTime=t,p.update({type:v.AdRemainingTimeChange,data:this.metaData}),s.d(v.create(v.AdRemainingTimeChange,{value:this.remainingTime})))}},canSkip:{get:function(){return!(!this._canSkip&&!this.customParams.sk)},set:function(t){this._canSkip!==t&&(this._canSkip=t,p.update({type:v.AdSkippableStateChange,data:{value:t}}),s.d(v.create(v.AdSkippableStateChange,{value:t})))}},adSize:{get:function(){return this._adSize||{}},set:function(t){this._adSize?this._adSize.width===t.width&&this._adSize.height===t.height||(this._adSize=t,p.update({type:v.AdSizeChange,data:this.adSize}),s.d(v.create(v.AdSizeChange,{width:t.width,height:t.height}))):this._adSize=t}},duration:{get:function(){return this._duration||-2},set:function(t){this._duration!==t&&(this._duration=t,s.d(v.create(v.AdDurationChange,{duration:t})))}},defaultVolume:{get:function(){return this._defaultVolume},set:function(t){t&&(this._defaultVolume=t)}},volume:{get:function(){return this._volume||this.defaultVolume},set:function(t){if(this._volume!==t){this._volume=t,this.defaultVolume=t,p.update({type:v.AdVolumeChange,data:{volume:t},mute:!!t});try{"undefined"!=typeof l.video&&(l.video.volume=t)}catch(e){E.error("set volume",t,e)}h.trackEvent(v.AdVolumeChange),s.d(v.create(v.AdVolumeChange,{volume:t}))}}},mute:{get:function(){return this._mute},set:function(t){if(this._mute!==!!t&&h.customEvent(t?"mute":"unmute"),"undefined"!=typeof l.video){try{l.video.muted=!!t}catch(e){E.error("set muted",t,e)}u.flags.isGoog||(t?l.video.setAttribute("muted","muted"):l.video.removeAttribute("muted"))}this._mute=!!t}},state:{set:function(t){this.state!==t&&this.state!==v.AdStopped&&(this._state=t,p.update({type:t,data:this.metaData}),h.trackEvent(t),s.d(v.create(t,this.metaData)))},get:function(){return this._state}},metaData:{get:function(){return this._metaData||{totalTime:30,currentTime:0}},set:function(t){if(this._metaData){this._metaData=t,t.currentTime>=this.customParams.co&&(u.canSkip=!0);var e=t.currentTime/t.totalTime;e>=.25&&u.middleEvents[0]===!1&&(u.middleEvents[0]=!0,h.trackEvent(v.AdVideoFirstQuartile),p.update({type:v.AdVideoFirstQuartile,data:this.metaData}),s.d(v.create(v.AdVideoFirstQuartile,t))),e>=.5&&u.middleEvents[1]===!1&&(u.middleEvents[1]=!0,h.trackEvent(v.AdVideoMidpoint),p.update({type:v.AdVideoMidpoint,data:this.metaData}),s.d(v.create(v.AdVideoMidpoint,t))),e>=.75&&u.middleEvents[2]===!1&&(u.middleEvents[2]=!0,h.trackEvent(v.AdVideoThirdQuartile),p.update({type:v.AdVideoThirdQuartile,data:this.metaData}),s.d(v.create(v.AdVideoThirdQuartile,t))),u.customParams.fdc&&t.totalTime-t.currentTime<u.customParams.fdc&&u.middleEvents[3]===!1&&(u.middleEvents[3]=!0,h.trackEvent(v.AdVideoComplete),p.update({type:v.AdVideoComplete,data:this.metaData}),u.flags.MRCViewable&&u.customParams.pg&&h.customEvent("AdVideoCompleteMRC"),m.stop(),f.stop())}else this._metaData=t,s.d(v.create(v.AdDurationChange,this.metaData));u.remainingTime=this.metaData.totalTime-this.metaData.currentTime}},middleEvents:{value:[!1,!1,!1,!1]},savedSource:{get:function(){return this._savedSource||""},set:function(t){this._savedSource=t}},savedAttributes:{value:{}},origin:{get:function(){if(!this._origin){var t=u.adParameters.customView||u.adParameters.mediapath,e=t.split("/");e.length=3,this._origin=e.join("/")}return this._origin}},location:{get:function(){if(!this._location)if(this._location=encodeURIComponent(u.realWindow.location.href),f.getPosition()!==r.X_FRAME)this._location=encodeURIComponent(t.top.location.href);else try{var e=u.realWindow.location.ancestorOrigins;if(e&&e.length>0){var i=e[e.length-1];i.indexOf("chrome-extension")>=0?this._location=encodeURIComponent("fraudulent-chromium-extension"):"http://a"==i||"https://a"==i?this._location=encodeURIComponent(e[0]):this._location=encodeURIComponent(i)}}catch(a){}return this._location}},hostname:{get:function(){return this._hostname||(this._location.indexOf("://")>-1?this._hostname=this._location.split("/")[2]:this._hostname=this._location.split("/")[0],this._hostname=this._hostname.split(":")[0],this._hostname=this._hostname.split("?")[0]),this._hostname}},realWindow:{get:function(){var t=p.root.ownerDocument;return u.customParams.dmmt&&(t.defaultView||t.parentWindow||h.customEvent("realWindow_error")),t.defaultView||t.parentWindow}},viewAbilityPercent:{get:function(){return 50}},viewAbilityHasFocus:{get:function(){return!u.customParams.nr}},customParams:{get:function(){return this._customParams},set:function(t){this._customParams||(this._customParams=t)}},flags:{value:{}},mobileOS:{get:function(){if(!this._operatingSystem){var e=navigator.userAgent||navigator.vendor||t.opera;/windows phone/i.test(e)?this._operatingSystem="Windows Phone":/android/i.test(e)?this._operatingSystem="Android":/iPad|iPhone|iPod/.test(e)&&!t.MSStream?this._operatingSystem="iOS":this._operatingSystem="unknown"}return this._operatingSystem}}}),l={flags:{},init:function(t){if(!this.flags.inited&&!this.flags.started){this.flags.inited=!0,this.video=t;var i,a,r=u.adParameters.mediafiles,n=u.adParameters.submediapath?u.adParameters.submediapath:u.adParameters.mediapath;for(i=0;i<this.events.length;i++)this.video.addEventListener(this.events[i],function(t){if(!this.flags.stopped){var e={totalTime:t.target.duration,currentTime:t.target.currentTime};switch(t.type){case"play":this.flags.videoStart&&o.call(this,v.create(v.AdPlaying,e));break;case"pause":if(e.currentTime/e.totalTime>=.98)return;u.flags.userEngaged||o.call(this,v.create(v.AdPaused,e));break;case"ended":o.call(this,v.create(v.AdVideoComplete,e));break;case"error":E.error("JS-VPAID-WCM::ERROR => mediaElement",t),o.call(this,v.create(v.AdError,e));break;case"timeupdate":!this.flags.videoStart&&e.currentTime&&(this.flags.videoStart=!0,this.flags.started=!0,o.call(this,v.create(v.AdVideoStart,e)),t.target.currentSrc&&t.target.currentSrc.match(/[a-z0-9]+$/)&&h.customEvent(t.target.currentSrc.match(/[a-z0-9]+$/)[0].toUpperCase())),u.flags.userEngaged||o.call(this,v.create(v.AdRemainingTimeChange,e))}}}.bind(this),!0);for(1===this.video.nodeType&&"function"==typeof this.video.hasAttribute&&this.video.hasAttribute("src")&&"function"==typeof this.video.getAttribute&&""!=this.video.getAttribute("src")&&(u.savedSource=this.video.getAttribute("src"),this.video.removeAttribute("src")),i=0;i<r.length;i++)if(this.video.canPlayType(r[i].type)){var s=e.createElement("source");if(s.type=r[i].type,s.src=n+r[i].src,s.id="wb-src-"+Math.round(1e12*Math.random()).toString(36),"function"==typeof this.video.appendChild&&this.video.appendChild(s),u.flags.isGoog||"function"==typeof this.video.hasAttribute&&!this.video.hasAttribute("src")||"function"==typeof this.video.getAttribute&&""==this.video.getAttribute("src")){var d=n+r[i].src;this.video.setAttribute("src",d)}"function"==typeof this.video.load&&this.video.load(),a=!0}var c=navigator.userAgent;if(c.indexOf("Chrome")<0&&c.indexOf("Safari")>=0){var l,p;l=c.indexOf("Safari"),p=c.substring(l+7),(l=c.indexOf("Version"))!=-1&&(p=c.substring(l+8));var m=parseInt(p.substring(0,2));m>=11&&(u.volume=0,u.mute=!0)}return u.customParams.sd>0&&(u.volume=0,u.mute=!0),a}},play:function(){return!(!this.flags.inited||this.flags.started)&&("Android"===u.mobileOS&&u.customParams.andr&&p.update({type:"Android"}),this.video.play(),!0)},pause:function(){!this.flags.paused&&this.flags.started&&(this.flags.paused=!0,this.video.pause())},resume:function(){this.flags.paused&&(this.flags.paused=!1,this.video.play())},stop:function(){return!(!this.flags.started||this.flags.stopped)&&(this.flags.stopped=!0,void this.pause())},events:["play","pause","ended","timeupdate","error"]},p={flags:{},init:function(i,a){this.root=i.appendChild(e.createElement("div")),this.root.id="wb-"+Math.round(1e12*Math.random()).toString(36);var r=e.createElement("link");r.rel="stylesheet",r.href=u.adParameters.mediapath+"style.min.css?v=4wzxm0epz9k0",this.root.appendChild(r),this.videoElement=a||this.root.appendChild(e.createElement("video")),this.videoElement.setAttribute("webkit-playsinline","playsinline"),this.videoElement.setAttribute("playsinline","playsinline"),u.customParams.nr&&this.videoElement.setAttribute("preload","auto");var o=u.adParameters.submediapath?u.adParameters.submediapath:u.adParameters.mediapath;if(u.customParams.up&&(this.videoElement.poster=o+"poster.png"),this.updateSize(),u.customParams.fl>0){var s=this.root.appendChild(e.createElement("div"));return s.className="click",s.addEventListener("contextmenu",function(e){return e=e||t.event,e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,!1}),u.customParams.ct>0&&(s.style.cursor="pointer",s.addEventListener("click",function(){(0===u.customParams.cf||Math.round(u.metaData.currentTime)>=u.customParams.cf)&&(n.call(this,{type:"action",data:{type:v.AdClickThru,id:"default"}}),t.open(h.getClickURL("default")))})),void setTimeout(function(){n.call(this,{type:"action",data:{type:v.AdLoaded}})}.bind(this),100)}u.realWindow.addEventListener("message",function(t){if(t.origin===u.origin){var e={};try{e=JSON.parse(t.data)}catch(i){}e.id===this.root.id&&n.call(this,e)}}.bind(this),!1),this.frameElement=this.root.appendChild(e.createElement("iframe")),this.frameElement.setAttribute("scrolling","no"),this.frameElement.setAttribute("frameborder","no"),this.frameElement.setAttribute("allow","autoplay"),this.frameElement.src=(u.adParameters.customView?u.adParameters.customView:u.adParameters.mediapath+"index.html")+"?id="+this.root.id},hide:function(t){this.frameElement&&(this.frameElement.style.display=t?"none":"inline-block")},update:function(t){this.frameElement&&this.frameElement.contentWindow&&("object"==typeof t&&f&&(t.viewState=t.viewState||f.getViewAbility(u.viewAbilityPercent,u.viewAbilityHasFocus).state),this.frameElement&&this.frameElement.contentWindow.postMessage(JSON.stringify({id:this.root.id,event:t}),"*"))},destroy:function(){if(!this.root||!this.root.parentNode||"function"!=typeof this.root.parentNode.removeChild)return!1;if(this.root.parentNode.removeChild(this.root),this.videoElement&&this.videoElement.attributes)for(;this.videoElement.attributes.length;)this.videoElement.removeAttribute(this.videoElement.attributes[0].nodeName);for(var t in u.savedAttributes)this.videoElement.setAttribute(t,u.savedAttributes[t]);if(u.savedSource&&""!==u.savedSource&&(this.videoElement.setAttribute("src",u.savedSource),this.videoElement.load(),this.videoElement.play()),"function"==typeof this.videoElement.querySelectorAll)for(var e=this.videoElement.querySelectorAll("source[id^='wb-src-']"),i=0;i<e.length;i++)this.videoElement.removeChild(e[i]);if(this.videoElement&&this.videoElement.attributes)for(var a,i=0,r=this.videoElement.attributes,o=r.length;i<o;i++)a=r[i];return!0},cssStyle:function(t){this.root.style.cssText=t,this.updateSize()},resizeVideoElement:function(t){this.videoElement&&this.videoElement.style&&(this.videoElement.style.width=t.width+("string"==typeof t.width?"":"px"),this.videoElement.style.height=t.height+("string"==typeof t.height?"":"px"),this.videoElement.style.top=t.top+("string"==typeof t.top?"":"px"),this.videoElement.style.left=t.left+("string"==typeof t.left?"":"px"))},updateSize:function(){return!!this.root&&(this.root.style.width=u.adSize.width+"px",this.root.style.height=u.adSize.height+"px",void(this.videoElement&&this.videoElement.style&&(this.videoElement.style.width=u.adSize.width+"px",this.videoElement.style.height=u.adSize.height+"px")))}},h={init:function(e,i,a){this.options={protocol:t.location.protocol,domain:e.domain,account:e.account,tte:e.tte,aap:e.aap,agi:Math.round(1e3*Math.random())},this.options.protocol.indexOf("http")==-1&&(this.options.protocol="https:"),this.viewableEvents=i||[],this.pixelTrackEvents=a},protocol:function(){return this.options.protocol},trackEvent:function(t){if(v.convert(t)!==t){var e="{{protocol}}//{{domain}}/fcgi-bin/dispatch.fcgi?a.A=ev&a.si={{account}}&a.te={{tte}}&a.aap={{aap}}&a.agi={{agi}}&a.evn={{name}}&g.ra={{random}}";t===v.AdImpression&&(e="{{protocol}}//{{domain}}/fcgi-bin/dispatch.fcgi?a.A=im&a.si={{account}}&a.te={{tte}}&a.aap={{aap}}&a.agi={{agi}}&a.hr=XC&g.ra={{random}}"),this.options.name=v.convert(t),this.options.random=Math.round(1e6*Math.random()),this.sendToURL(this.prepareURL(e,this.options))}if(this.pixelTrackEvents.hasOwnProperty(t)&&""!=this.pixelTrackEvents[t]&&this.sendToURL(this.pixelTrackEvents[t]),this.viewableEvents.indexOf(t)!=-1){var i=t+f.getViewAbility(u.viewAbilityPercent,u.viewAbilityHasFocus).state;this.customEvent(i)}},customEvent:function(t){t.indexOf("extended_video")!=-1&&(t+="_"+f.getViewAbility(u.viewAbilityPercent,u.viewAbilityHasFocus).state.toLowerCase());var e="{{protocol}}//{{domain}}/fcgi-bin/dispatch.fcgi?a.A=ev&a.si={{account}}&a.te={{tte}}&a.aap={{aap}}&a.agi={{agi}}&a.evn={{name}}&g.ra={{random}}";this.options.name=t,this.options.random=Math.round(1e6*Math.random()),this.sendToURL(this.prepareURL(e,this.options)),this.pixelTrackEvents.hasOwnProperty(t)&&""!=this.pixelTrackEvents[t]&&this.sendToURL(this.pixelTrackEvents[t]),t!=g.MRCViewable&&t!=g.MRCUnviewable||p.update({type:t}),u.adParameters.hasOwnProperty("customEvents")&&u.adParameters.customEvents.hasOwnProperty(t)&&this.sendToURL(this.prepareURL(u.adParameters.customEvents[t],this.options))},getClickURL:function(){var t="{{protocol}}//{{domain}}/fcgi-bin/dispatch.fcgi?a.A=cl&a.si={{account}}&a.te={{tte}}&a.aap={{aap}}&a.agi={{agi}}&g.lu=";return u.customParams.utm&&(this.options.aycp=encodeURIComponent(u.customParams.utm),t+="&a.ycp={{aycp}}"),this.prepareURL(t,this.options)},prepareURL:function(t,e){e=e||this.options,u.adParameters.hasOwnProperty("wcm")&&u.adParameters.wcm.hasOwnProperty("siteid")&&(e.aycp=u.adParameters.wcm.siteid,t+="&a.ycp={{aycp}}");for(var i in e)e.hasOwnProperty(i)&&(t=t.replace(new RegExp("{{"+i+"}}","g"),e[i]));return t},sendToURL:function(t,e){var i=new Image;e&&(i.onload=i.onerror=e),i.src=t}},a.ON="Audible",a.OFF="Inaudible",a.DELAY=250,a.FIRE_TIME=2e3,a.prototype.start=function(){this.updater||(this.updater=setInterval(a.updateTime.bind(this),a.DELAY))},a.prototype.pause=function(){this.updater&&(clearInterval(this.updater),this.updater=null)},a.prototype.stop=function(t){this.updater&&clearInterval(this.updater),a.updateTime.call(this),this.audibilityFired||t||(this.audibilityFired=!0,h.customEvent(a.OFF))},a.updateTime=function(){return this.audibilityFired?clearInterval(this.updater):(u.mute||u.volume<=0?this.secondsAudible=0:this.secondsAudible+=a.DELAY,void(this.secondsAudible>=a.FIRE_TIME&&(this.audibilityFired=!0,h.customEvent(a.ON),clearInterval(this.updater))))},r.DELAY=250,r.ON_PAGE="OnPage",r.S_FRAME="SameDomainFrame",r.X_FRAME="CrossDomainFrame",r.VIEWABLE="Viewable",r.NOT_VIEWABLE="Unviewable",r.UNDETERMINED="Undetermined",r.prototype.hasFocus=function(){return("undefined"===e.hidden||e.hidden!==!0)&&(this.getPosition()===r.X_FRAME||"function"!=typeof t.top.document.hasFocus||t.top.document.hasFocus())},r.prototype.getPosition=function(){if(!this.position)if(t.top===u.realWindow)this.position=r.ON_PAGE;else{this.position=r.S_FRAME;try{for(var e=u.realWindow;e.parent!==e;){if(e.parent.document.domain!==e.document.domain){this.position=r.X_FRAME;break}e=e.parent}}catch(i){this.position=r.X_FRAME}}return this.position},r.prototype.init=function(t,e){if(this.intersectionSupport){var i=navigator.userAgent.toLowerCase().indexOf("firefox")>-1?this.rootElement.ownerDocument.defaultView.IntersectionObserver:IntersectionObserver;this.intersectionObserver=new i(function(t){this.intersectionRatio=Math.round(1e4*t[0].intersectionRatio)/100}.bind(this),{threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]}),this.intersectionObserver.observe(this.rootElement)}else if(this.getPosition()==r.X_FRAME){if(t&&t.length&&"function"==typeof e)for(;t.length;)e(t.shift().name+r.UNDETERMINED);return!1}2==arguments.length&&t&&t.length&&"function"==typeof e&&(this.observerData=t,this.observerHandler=e)},r.prototype.start=function(){this.updater||(this.updater=setInterval(r.updateTime.bind(this),r.DELAY))},r.prototype.pause=function(){this.updater&&(clearInterval(this.updater),this.updater=null)},r.prototype.stop=function(t){if(this.updater&&clearInterval(this.updater),r.updateTime.call(this),this.observerData&&this.observerData.length&&!t)for(;this.observerData.length;)this.observerHandler(this.observerData.shift().name+r.NOT_VIEWABLE);this.observerData=[]},r.prototype.getViewAbility=function(e,i){if(this.intersectionSupport)return r.match(this.hasFocus(),i,this.intersectionRatio,e);if(this.getPosition()==r.X_FRAME)return{state:r.UNDETERMINED,percent:0,focus:!1};var a=u.realWindow,o=this.rootElement.getBoundingClientRect(),n=r.calculateArea(o,a);try{for(;a!==t.top;){var s=a.name||(a.name="wb-"+Math.round(1e6*Math.random()).toString(16));a=a.parent,o=a.frames[s].frameElement.getBoundingClientRect(),n=Math.min(r.calculateArea(o,a),n)}}catch(d){return{state:r.UNDETERMINED,percent:0,focus:!1}}return r.match(this.hasFocus(),i,n,e)},r.updateTime=function(){var t=this.getViewAbility();if(!this.observerData||!this.observerData.length)return clearInterval(this.updater);for(var e=[],i=0;i<this.observerData.length;i++){var a=this.observerData[i];u.customParams.nr&&(a.useFocus=!1),"string"!=typeof a.duration||a.duration.indexOf("%")==-1||isNaN(u.metaData.totalTime)||(a.duration=Math.floor(2*u.metaData.totalTime)/2*parseInt(a.duration,10)*10),(!a.useFocus||t.focus)&&Math.round(t.percent)>=a.percent?"true"==a.useSound?a.timeInView=u.mute?0:r.DELAY+(a.timeInView||0):a.timeInView=r.DELAY+(a.timeInView||0):a.timeInView=0,a.timeInView>=a.duration?this.observerHandler(a.name+r.VIEWABLE):e.push(a)}this.observerData=e},r.match=function(t,e,i,a){var o=r.NOT_VIEWABLE;return 3333333==i?(o=r.UNDETERMINED,{state:o,focus:t,percent:i}):((t||!e)&&i>=a&&(o=r.VIEWABLE),{state:o,focus:t,percent:i})},r.calculateArea=function(t,e){if(u.customParams.dmmt){if(!t)return h.customEvent("calculateArea_rectElement"),3333333;if(!e)return h.customEvent("calculateArea_targetWindow"),3333333}var i=t.width*t.height,a=t.width,r=t.height;return t.top<0&&(r+=t.top),t.bottom>e.innerHeight&&(r-=t.bottom-e.innerHeight),t.left<0&&(a+=t.left),t.right>e.innerWidth&&(a-=t.right-e.innerWidth),a*r*100/i},v={create:function(t,e){return{type:t,data:e}},convert:function(t){return{AdLoaded:"load",AdStarted:"creativeView",AdVideoStart:"start",AdImpression:"impression",AdVideoFirstQuartile:"firstQuartile",AdVideoMidpoint:"midpoint",AdVideoThirdQuartile:"thirdQuartile",AdVideoComplete:"complete",AdUserClose:"close",AdClickThru:"click",AdPaused:"pause",AdPlaying:"resume",AdVolumeChange:"volume"}[t]||t}},v.AdLoaded="AdLoaded",v.AdStarted="AdStarted",v.AdStopped="AdStopped",v.AdSkipped="AdSkipped",v.AdLinearChange="AdLinearChange",v.AdSizeChange="AdSizeChange",v.AdExpandedChange="AdExpandedChange",v.AdSkippableStateChange="AdSkippableStateChange",v.AdRemainingTimeChange="AdRemainingTimeChange",v.AdDurationChange="AdDurationChange",v.AdVolumeChange="AdVolumeChange",v.AdImpression="AdImpression",v.AdVideoStart="AdVideoStart",v.AdVideoFirstQuartile="AdVideoFirstQuartile",v.AdVideoMidpoint="AdVideoMidpoint",v.AdVideoThirdQuartile="AdVideoThirdQuartile",v.AdVideoComplete="AdVideoComplete",v.AdClickThru="AdClickThru",v.AdInteraction="AdInteraction",v.AdUserAcceptInvitation="AdUserAcceptInvitation",v.AdUserMinimize="AdUserMinimize",v.AdUserClose="AdUserClose",v.AdPaused="AdPaused",v.AdPlaying="AdPlaying",v.AdLog="AdLog",v.AdError="AdError",g={},g.MRCViewable="MRCViewable",g.MRCUnviewable="MRCUnviewable",E={injectScripts:function(t,i){if(i&&i.length)for(var a in i)if(i.hasOwnProperty(a)){var r=e.createElement("script");r.type="text/javascript",r.src=i[a],t.appendChild(r)}},injectIFrames:function(t,i){if(u.customParams.sf>0){var a=e.createElement("iframe");a.src=h.protocol()+"//cstatic.weborama.fr/iframe/external_all.html",a.style.cssText="width:1px;height:1px;visibility:hidden;position:absolute;border:0",t.appendChild(a)}if(i&&i.length)for(var r in i)if(i.hasOwnProperty(r)){var a=e.createElement("iframe");a.src=i[r],a.style.cssText="width:1px;height:1px;visibility:hidden;position:absolute;border:0",t.appendChild(a)}},log:function(){i&&console.log.apply(console,["JS-VPAID-WCM::INFO =>"].concat(arguments))},warn:function(){console.log.apply(console,["JS-VPAID-WCM::WARN =>"].concat(arguments))},error:function(){console.log.apply(console,["JS-VPAID-WCM::ERROR =>"].concat(arguments))}},c=function(){console.log("JS-VPAID-WCM::INFO => 2019-01-25T13:35:05.716Z")},c.prototype.handshakeVersion=function(){return"2.0"},c.prototype.initAd=function(o,n,c,l,g,y){function b(i,a,r,o){var n=e.createElement("script"),s={events:[],addEvent:function(t){u.sendEvent?(s.events&&(u.sendEvent(s.events),s.events=!1),u.sendEvent(t)):s.events.push(t)}},d=function(t){return function(){var e,a=-1;if(i&&i.getAdVolume&&(e=i.getAdVolume()),"number"==typeof e&&!isNaN(e)&&0<=e&&(a=e),s.addEvent({type:t,adVolume:a}),-1!==p.indexOf(t)&&i&&i.unsubscribe&&!l){l=!0;for(var r in c)if(c.hasOwnProperty&&c.hasOwnProperty(r))try{i.unsubscribe(c[r],r)}catch(o){}}}},u={adData:{ids:r,vpaid:i,build:"cc07a80-clean"},dispatchEvent:s.addEvent};r="_moatApi"+Math.floor(1e8*Math.random());var c={AdStarted:d("AdStarted"),AdStopped:d("AdStopped"),AdSkipped:d("AdSkipped"),AdLoaded:d("AdLoaded"),AdLinearChange:d("AdLinearChange"),AdSizeChange:d("AdSizeChange"),AdExpandedChange:d("AdExpandedChange"),AdSkippableStateChange:d("AdSkippableStateChange"),AdDurationChange:d("AdDurationChange"),AdRemainingTimeChange:d("AdRemainingTimeChange"),AdVolumeChange:d("AdVolumeChange"),AdImpression:d("AdImpression"),AdClickThru:d("AdClickThru"),AdInteraction:d("AdInteraction"),AdVideoStart:d("AdVideoStart"),AdVideoFirstQuartile:d("AdVideoFirstQuartile"),AdVideoMidpoint:d("AdVideoMidpoint"),AdVideoThirdQuartile:d("AdVideoThirdQuartile"),AdVideoComplete:d("AdVideoComplete"),AdUserAcceptInvitation:d("AdUserAcceptInvitation"),AdUserMinimize:d("AdUserMinimize"),AdUserClose:d("AdUserClose"),AdPaused:d("AdPaused"),AdPlaying:d("AdPlaying"),AdError:d("AdError")},l=!1,p=["AdStopped","AdSkipped","AdVideoComplete"];!function(){if(i&&i.subscribe)for(var t in c)c.hasOwnProperty&&c.hasOwnProperty(t)&&i.subscribe(c[t],t)}();var h,m;try{h=a.ownerDocument,m=h.defaultView||h.parentWindow}catch(f){h=e,m=t}return m[r]=u,n.type="text/javascript",a&&a.insertBefore(n,a.childNodes[0]||null),n.src="https://z.moatads.com/"+o+"/moatvideo.js#"+r,u}if("string"==typeof g&&(g={AdParameters:g},E.warn('The typeof parameter "creativeData" should be an "object" with key "AdParameters"'),E.warn("Read page 44 from https://www.iab.com/wp-content/uploads/2015/06/VPAID_2_0_Final_04-10-2012.pdf")),"object"!=typeof g||!g.AdParameters||"object"!=typeof y||!y.slot)return E.error(d.WRONG_INIT_PARAMS),E.error("initAd",arguments),s.d(v.create(v.AdError,d.WRONG_INIT_PARAMS));try{u.adParameters=JSON.parse(g.AdParameters)}catch(P){return E.error(d.WRONG_AD_PARAMETERS),E.error("initAd",arguments),s.d(v.create(v.AdError,d.WRONG_AD_PARAMETERS))}var S={andr:0,cet:0,cf:0,co:5,ct:1,daf:750,dm:0,dmmt:0,fl:0,fdc:0,impid:0,moat:0,nr:0,plc:0,pg:0,poc:0,sd:0,sf:0,sk:1,ss:1,st:1,up:0,us:0,utm:0};try{if(u.adParameters.cp)for(var w=decodeURIComponent(u.adParameters.cp).split("|"),T=0;T<w.length;T++)if(w[T]){var C=w[T].split(":");2==C.length&&""!=C[1]?"undefined"!=typeof S[C[0]]?S[C[0]]=C[1].match(/[a-zA-Z]/i)?C[1]:parseInt(C[1],10):S[C[0]]=C[1]:S[C[0]]=!0}}catch(P){}if(u.customParams=S,u.adSize={width:o,height:n},i=!!u.customParams.dm,u.defaultVolume=.5,E.log("initAd",arguments),y.videoSlot&&"undefined"!=typeof y.videoSlot.attributes)for(var _,T=0,V=y.videoSlot.attributes,I=V.length;T<I;T++)_=V[T],u.savedAttributes[_.nodeName]=_.nodeValue;var D=[v.AdImpression,v.AdVideoStart,v.AdVideoFirstQuartile,v.AdVideoMidpoint,v.AdVideoThirdQuartile,v.AdVideoComplete],R={};if(u.adParameters.pixel&&u.adParameters.pixel.length)for(var T=0;T<u.adParameters.pixel.length;T++){var M=u.adParameters.pixel[T];R[M.name]=M.url}h.init(u.adParameters.wcm,D,R),y.slot&&1===y.slot.nodeType||(y.slot=e.body,E.warn('Invalid parameter "environmentVars.slot"'));for(var O in y.videoSlot)if(y.videoSlot.hasOwnProperty(O)){var k=""+y.videoSlot[O];k.indexOf("goog_")!==-1&&(u.flags.isGoog=!0)}if(!y.videoSlot||1===y.videoSlot.nodeType&&"VIDEO"===y.videoSlot.nodeName.toUpperCase()||u.flags.isGoog||(y.videoSlot=null,E.warn('Invalid parameter "environmentVars.videoSlot"')),p.init(y.slot,y.videoSlot?y.videoSlot:null),m=new a,f=new r(p.root),f.init(u.adParameters.mrcTracker,function(t){u.flags[t]=!0,h.customEvent(t)}.bind(this)),E.injectScripts(p.root,u.adParameters.scripts),E.injectIFrames(p.root,u.adParameters.frames),u.customParams.moat){var N={level1:u.adParameters.wcm.account,level2:u.adParameters.wcm.campaign,level3:u.adParameters.wcm.site,level4:u.adParameters.wcm.insertion},L="weboramajsvpaid879197115859";b(A,y.slot,N,L)}if(u.customParams.poc)var F=setInterval(function(){var t=f.getViewAbility(u.viewAbilityPercent,u.viewAbilityHasFocus).state;u.flags.visibleReport!=t&&(u.flags.visibleReport=t,t==r.VIEWABLE?A.resumeAd():t==r.NOT_VIEWABLE?A.pauseAd():t==r.UNDETERMINED&&clearInterval(F))},500);h.customEvent(f.getPosition())},c.prototype.startAd=function(){E.log("startAd"),l.play()&&(u.state=v.AdStarted)},c.prototype.stopAd=function(){E.log("stopAd"),l.stop(),m.stop(),f.stop(),p.destroy()&&(u.state=v.AdStopped)},c.prototype.skipAd=function(){this.getAdSkippableState()&&(E.log("skipAd"),u.state=v.AdSkipped,l.stop(),m.stop(),f.stop(),p.hide(!0),setTimeout(function(){A.stopAd()},u.customParams.daf))},c.prototype.resizeAd=function(t,e,i){E.log("resizeAd",arguments),u.adSize={width:t,height:e},p.updateSize()},c.prototype.pauseAd=function(){u.flags.userEngaged||(l.pause(),m.pause(),f.pause())},c.prototype.fakePauseAd=function(t){u.flags.userEngaged=!0,l.pause(),u.remainingTime=-2,u.duration=-2},c.prototype.resumeAd=function(){u.flags.userEngaged||(l.resume(),m.start(),f.start())},c.prototype.expandAd=function(){s.d(v.create(v.AdLog,d.NOT_ALLOWED_METHOD))},c.prototype.collapseAd=function(){s.d(v.create(v.AdLog,d.NOT_ALLOWED_METHOD))},c.prototype.setAdVolume=function(t){E.log("setAdVolume",t),t="string"==typeof t?parseInt(t,10):t,t>1&&(t/=100),t<0&&(t=0),u.mute=!t,u.volume=t},c.prototype.getAdVolume=function(){return u.mute?0:u.volume},c.prototype.getAdDuration=function(){return u.flags.userEngaged?u.duration:u.metaData?u.metaData.totalTime:-2},c.prototype.getAdLinear=function(){return u.linear},c.prototype.getAdWidth=function(){return u.adSize.width},c.prototype.getAdHeight=function(){return u.adSize.height},c.prototype.getAdRemainingTime=function(){return u.remainingTime},c.prototype.getAdExpanded=function(){return!0},c.prototype.getAdSkippableState=function(){return u.canSkip},c.prototype.getAdIcons=function(){return!1},c.prototype.getAdCompanions=function(){return""},c.prototype.subscribe=function(t,e,i){s.subscribe(t,e,i)},c.prototype.unsubscribe=function(t,e){s.unsubscribe(t,e)},t.getVPAIDAd=function(){return A||(A=new c),A}}(window,document);