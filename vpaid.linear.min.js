!function(e,t,i){function a(){this.audibilityFired=!1,this.secondsAudible=0}function r(t){this.rootElement=t,this.intersectionSupport=!!e.IntersectionObserver,this.intersectionRatio=-1}function o(e){switch(e.type){case v.AdVideoStart:p.hide(!1),h.customEvent(u.playerSize),p.update({type:u.playerSize,data:u.adSize}),u.state=v.AdImpression,u.state=v.AdVideoStart,m.start(),f.start();break;case v.AdRemainingTimeChange:u.metaData=e.data;break;case v.AdError:u.state=v.AdError,h.customEvent(v.AdError+"_"+d.MEDIA_FILES_ERROR.code),m.stop(!0),f.stop(!0),setTimeout(function(){A.stopAd()},250);break;case v.AdVideoComplete:u.customParams.fdc?(s.d(v.create(v.AdVideoComplete,u.metaData)),p.hide(!0),setTimeout(function(){A.stopAd()},u.customParams.daf)):(u.state=v.AdVideoComplete,u.flags.MRCViewable&&u.customParams.pg&&h.customEvent("AdVideoCompleteMRC"),u.customParams.nr||(m.stop(),f.stop(),p.hide(!0),setTimeout(function(){A.stopAd()},u.customParams.daf)));break;case v.AdPaused:u.state=v.AdPaused;break;case v.AdPlaying:u.state=v.AdPlaying;break;default:E.error("======================== UNTREATED MEDIA EVENT ========================>",e)}}function n(e){if("event"===e.type)return h.customEvent(e.data.type);if("apply"===e.type)return"resumeAd"===e.data.method&&u.flags.userEngaged&&(u.flags.userEngaged=!1),"function"==typeof A[e.data.method]?A[e.data.method].apply(A,e.data.args):"function"==typeof p[e.data.method]?p[e.data.method].apply(p,e.data.args):E.error('CAN\'T "apply" METHOD =>',e.data.method);if("action"===e.type)switch(e.data.type){case v.AdLoaded:var t=u.adParameters.settingspath?u.adParameters.settingspath:u.adParameters.submediapath?u.adParameters.submediapath:u.adParameters.mediapath;p.update({type:"SetConfig",data:{clickUrl:h.getClickURL("default"),customParams:u.customParams,defaultVolume:u.defaultVolume,location:u.location,domain:u.hostname,ssp:u.customParams.impid,mediapath:t}}),p.hide(!0),l.init(p.videoElement)?(u.state=v.AdLoaded,u.linear=!0):(u.metaData=d.MEDIA_FILES_NOT_FOUND,u.state=v.AdError,h.customEvent(v.AdError+"_"+d.MEDIA_FILES_NOT_FOUND.code));break;case v.AdClickThru:e.data.url?s.d(v.create(v.AdClickThru,{playerHandles:!0,id:e.data.id,url:e.data.url})):s.d(v.create(v.AdClickThru,{playerHandles:!1,id:e.data.id})),h.trackEvent(v.AdClickThru),u.customParams.cet&&Math.round(u.metaData.currentTime)>=0&&h.customEvent("AdVideoClick"+Math.round(u.metaData.currentTime));break;case v.AdUserClose:u.state=v.AdUserClose,l.stop(),m.stop(),f.stop(),p.hide(!0),setTimeout(function(){A.stopAd()},u.customParams.daf);break;default:E.error("======================== UNTREATED VIEW EVENT ========================>",e)}else E.error("UNKNOWN TYPE VIEW EVENT =>",e)}var s,d,u,c,l,p,h,m,f,A,v,g,E;s={subscribers:{},subscribe:function(e,t,i){"string"==typeof t&&(t=[t]);for(var a=0,r=t.length;a<r;a++){var o=t[a];this.subscribers[o]||(this.subscribers[o]=[]),this.subscribers[o].push({fn:e,ctx:i||null})}},unsubscribe:function(e,t){"string"==typeof t&&(t=[t]);for(var i=t.length;i>=0;i--){var a=this.subscribers[t[i]];if(a&&Array.isArray(a)&&a.length)for(var r=a.length-1;r>=0;r--)"undefined"!=typeof a[r]&&a[r].fn===e&&a.splice(r,1)}},d:function(e){e.type!=v.AdRemainingTimeChange&&E.log("DispatchEvent =>",e.type,f?f.getViewAbility(u.viewAbilityPercent,u.viewAbilityHasFocus).state:"",(this.subscribers[e.type]||[]).length),(this.subscribers[e.type]||[]).forEach(function(t){t.fn&&(e.type==v.AdClickThru&&u.customParams.plc?t.fn.call(t.ctx,e.data.url,e.data.id,e.data.playerHandles):t.fn.call(t.ctx,e))})}},d={WRONG_INIT_PARAMS:{code:900,message:"Initialization parameters are wrong"},WRONG_AD_PARAMETERS:{code:900,message:"Can't parse AdParameters"},NOT_ALLOWED_METHOD:{code:0,message:"This method is not supported"},MEDIA_FILES_ERROR:{code:405,message:"Could not display mediaFile"},MEDIA_FILES_NOT_FOUND:{code:403,message:"Supported mediaFiles not found"}},u=Object.create(Object.prototype,{linear:{get:function(){return this._linear||!0},set:function(e){this._linear!==e&&(this._linear=e,s.d(v.create(v.AdLinearChange,{value:e})))}},isPreviewer:{get:function(){return this._isPreviewer||(this._isPreviewer="none",f.getPosition()!==r.X_FRAME&&(this._isPreviewer="clients.weborama.nl"==e.top.location.host?"preview":"none")),"preview"==this._isPreviewer}},remainingTime:{get:function(){return this._remainingTime||-1},set:function(e){this.remainingTime!==e&&(this._remainingTime=e,p.update({type:v.AdRemainingTimeChange,data:this.metaData}),s.d(v.create(v.AdRemainingTimeChange,{value:this.remainingTime})))}},canSkip:{get:function(){return!(!this._canSkip&&!this.customParams.sk)},set:function(e){this._canSkip!==e&&(this._canSkip=e,p.update({type:v.AdSkippableStateChange,data:{value:e}}),s.d(v.create(v.AdSkippableStateChange,{value:e})))}},adSize:{get:function(){return this._adSize||{}},set:function(e){if(this._adSize?this._adSize.width===e.width&&this._adSize.height===e.height||(this._adSize=e,p.update({type:v.AdSizeChange,data:this.adSize}),s.d(v.create(v.AdSizeChange,{width:e.width,height:e.height}))):this._adSize=e,this.adSize.width&&"object"==typeof this.playerSizeParams){if(this.fullscreen)return void(this.playerSize="PlayerFullscreen");var t=this.playerSizeParams,i=this.adSize.width;for(var a in t)if(t.hasOwnProperty(a)){var r=t[a];if((!r[0]||i>=r[0])&&(!r[1]||i<r[1])){this.playerSize=a;break}}}}},playerSize:{get:function(){return this._playerSize},set:function(e){this._playerSize=e}},fullscreen:{get:function(){return this.adSize.viewMode===u.FULLSCREEN}},FULLSCREEN:{value:"fullscreen"},NORMAL:{value:"normal"},duration:{get:function(){return this._duration||-2},set:function(e){this._duration!==e&&(this._duration=e,s.d(v.create(v.AdDurationChange,{duration:e})))}},defaultVolume:{get:function(){return this._defaultVolume},set:function(e){e&&(this._defaultVolume=e)}},volume:{get:function(){return this._volume||this.defaultVolume},set:function(e){if(this._volume!==e){this._volume=e,this.defaultVolume=e,p.update({type:v.AdVolumeChange,data:{volume:e},mute:!!e});try{"undefined"!=typeof l.video&&(l.video.volume=e)}catch(t){E.error("set volume",e,t)}h.trackEvent(v.AdVolumeChange),s.d(v.create(v.AdVolumeChange,{volume:e}))}}},mute:{get:function(){return this._mute},set:function(e){if(this._mute!==!!e&&h.customEvent(e?"mute":"unmute"),"undefined"!=typeof l.video){try{l.video.muted=!!e}catch(t){E.error("set muted",e,t)}u.flags.isGoog||(e?l.video.setAttribute("muted","muted"):l.video.removeAttribute("muted"))}this._mute=!!e}},state:{set:function(e){this.state!==e&&this.state!==v.AdStopped&&(this._state=e,p.update({type:e,data:this.metaData}),h.trackEvent(e),s.d(v.create(e,this.metaData)))},get:function(){return this._state}},metaData:{get:function(){return this._metaData||{totalTime:30,currentTime:0}},set:function(e){if(this._metaData){this._metaData=e,e.currentTime>=this.customParams.co&&(u.canSkip=!0);var t=e.currentTime/e.totalTime;t>=.25&&u.middleEvents[0]===!1&&(u.middleEvents[0]=!0,h.trackEvent(v.AdVideoFirstQuartile),p.update({type:v.AdVideoFirstQuartile,data:this.metaData}),s.d(v.create(v.AdVideoFirstQuartile,e))),t>=.5&&u.middleEvents[1]===!1&&(u.middleEvents[1]=!0,h.trackEvent(v.AdVideoMidpoint),p.update({type:v.AdVideoMidpoint,data:this.metaData}),s.d(v.create(v.AdVideoMidpoint,e))),t>=.75&&u.middleEvents[2]===!1&&(u.middleEvents[2]=!0,h.trackEvent(v.AdVideoThirdQuartile),p.update({type:v.AdVideoThirdQuartile,data:this.metaData}),s.d(v.create(v.AdVideoThirdQuartile,e))),u.customParams.fdc&&e.totalTime-e.currentTime<u.customParams.fdc&&u.middleEvents[3]===!1&&(u.middleEvents[3]=!0,h.trackEvent(v.AdVideoComplete),p.update({type:v.AdVideoComplete,data:this.metaData}),u.flags.MRCViewable&&u.customParams.pg&&h.customEvent("AdVideoCompleteMRC"),m.stop(),f.stop())}else this._metaData=e,s.d(v.create(v.AdDurationChange,this.metaData));u.remainingTime=this.metaData.totalTime-this.metaData.currentTime}},middleEvents:{value:[!1,!1,!1,!1]},savedSource:{get:function(){return this._savedSource||""},set:function(e){this._savedSource=e}},savedAttributes:{value:{}},origin:{get:function(){if(!this._origin){var e=u.adParameters.customView||u.adParameters.mediapath,t=e.split("/");t.length=3,this._origin=t.join("/")}return this._origin}},location:{get:function(){if(!this._location)if(this._location=encodeURIComponent(u.realWindow.location.href),f.getPosition()!==r.X_FRAME)this._location=encodeURIComponent(e.top.location.href);else try{var t=u.realWindow.location.ancestorOrigins;if(t&&t.length>0){var i=t[t.length-1];i.indexOf("chrome-extension")>=0?this._location=encodeURIComponent("fraudulent-chromium-extension"):"http://a"==i||"https://a"==i?this._location=encodeURIComponent(t[0]):this._location=encodeURIComponent(i)}}catch(a){}return this._location}},hostname:{get:function(){return this._hostname||(this._location.indexOf("://")>-1?this._hostname=this._location.split("/")[2]:this._hostname=this._location.split("/")[0],this._hostname=this._hostname.split(":")[0],this._hostname=this._hostname.split("?")[0]),this._hostname}},realWindow:{get:function(){var e=p.root.ownerDocument;return u.customParams.dmmt&&(e.defaultView||e.parentWindow||h.customEvent("realWindow_error")),e.defaultView||e.parentWindow}},viewAbilityPercent:{get:function(){return 50}},viewAbilityHasFocus:{get:function(){return!u.customParams.nr}},customParams:{get:function(){return this._customParams},set:function(e){this._customParams||(this._customParams=e)}},flags:{value:{}},mobileOS:{get:function(){if(!this._operatingSystem){var t=navigator.userAgent||navigator.vendor||e.opera;/windows phone/i.test(t)?this._operatingSystem="Windows Phone":/android/i.test(t)?this._operatingSystem="Android":/iPad|iPhone|iPod/.test(t)&&!e.MSStream?this._operatingSystem="iOS":this._operatingSystem="unknown"}return this._operatingSystem}}}),l={flags:{},init:function(e){if(!this.flags.inited&&!this.flags.started){this.flags.inited=!0,this.video=e;var i,a,r=u.adParameters.mediafiles,n=u.adParameters.submediapath?u.adParameters.submediapath:u.adParameters.mediapath;for(i=0;i<this.events.length;i++)this.video.addEventListener(this.events[i],function(e){if(!this.flags.stopped){var t={totalTime:e.target.duration,currentTime:e.target.currentTime};switch(e.type){case"play":this.flags.videoStart&&o.call(this,v.create(v.AdPlaying,t));break;case"pause":if(t.currentTime/t.totalTime>=.98)return;u.flags.userEngaged||o.call(this,v.create(v.AdPaused,t));break;case"ended":o.call(this,v.create(v.AdVideoComplete,t));break;case"error":E.error("JS-VPAID-WCM::ERROR => mediaElement",e),o.call(this,v.create(v.AdError,t));break;case"timeupdate":!this.flags.videoStart&&t.currentTime&&(this.flags.videoStart=!0,this.flags.started=!0,o.call(this,v.create(v.AdVideoStart,t)),e.target.currentSrc&&e.target.currentSrc.match(/[a-z0-9]+$/)&&h.customEvent(e.target.currentSrc.match(/[a-z0-9]+$/)[0].toUpperCase())),u.flags.userEngaged||o.call(this,v.create(v.AdRemainingTimeChange,t))}}}.bind(this),!0);for(1===this.video.nodeType&&"function"==typeof this.video.hasAttribute&&this.video.hasAttribute("src")&&"function"==typeof this.video.getAttribute&&""!=this.video.getAttribute("src")&&(u.savedSource=this.video.getAttribute("src"),this.video.removeAttribute("src")),i=0;i<r.length;i++)if(this.video.canPlayType(r[i].type)){var s=t.createElement("source");if(s.type=r[i].type,s.src=n+r[i].src,s.id="wb-src-"+Math.round(1e12*Math.random()).toString(36),"function"==typeof this.video.appendChild&&this.video.appendChild(s),u.flags.isGoog||"function"==typeof this.video.hasAttribute&&!this.video.hasAttribute("src")||"function"==typeof this.video.getAttribute&&""==this.video.getAttribute("src")){var d=n+r[i].src;this.video.setAttribute("src",d)}"function"==typeof this.video.load&&this.video.load(),a=!0}var c=navigator.userAgent;if(c.indexOf("Chrome")<0&&c.indexOf("Safari")>=0){var l,p;l=c.indexOf("Safari"),p=c.substring(l+7),(l=c.indexOf("Version"))!=-1&&(p=c.substring(l+8));var m=parseInt(p.substring(0,2));m>=11&&(u.volume=0,u.mute=!0)}return u.customParams.sd>0&&(u.volume=0,u.mute=!0),a}},play:function(){return!!(u.customParams.nr||this.flags.inited&&!this.flags.started)&&(u.customParams.nr&&(u.middleEvents[0]=!1,u.middleEvents[1]=!1,u.middleEvents[2]=!1),"Android"===u.mobileOS&&u.customParams.andr&&p.update({type:"Android"}),this.video.play(),!0)},pause:function(){!this.flags.paused&&this.flags.started&&(this.flags.paused=!0,this.video.pause())},resume:function(){this.flags.paused&&(this.flags.paused=!1,this.video.play())},stop:function(){return!(!this.flags.started||this.flags.stopped)&&(this.flags.stopped=!0,void this.pause())},events:["play","pause","ended","timeupdate","error"]},p={flags:{},init:function(i,a){this.root=i.appendChild(t.createElement("div")),this.root.id="wb-"+Math.round(1e12*Math.random()).toString(36);var r=t.createElement("link");r.rel="stylesheet",r.href=u.adParameters.mediapath+"style.min.css?v=6du7165kb44k",this.root.appendChild(r),this.videoElement=a||this.root.appendChild(t.createElement("video")),this.videoElement.setAttribute("webkit-playsinline","playsinline"),this.videoElement.setAttribute("playsinline","playsinline"),u.customParams.nr&&this.videoElement.setAttribute("preload","auto");var o=u.adParameters.submediapath?u.adParameters.submediapath:u.adParameters.mediapath;if(u.customParams.up&&(this.videoElement.poster=o+"poster.png"),this.updateSize(),u.customParams.fl>0){var s=this.root.appendChild(t.createElement("div"));return s.className="click",s.addEventListener("contextmenu",function(t){return t=t||e.event,t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.cancelBubble=!0,!1}),u.customParams.ct>0&&(s.style.cursor="pointer",s.addEventListener("click",function(){(0===u.customParams.cf||Math.round(u.metaData.currentTime)>=u.customParams.cf)&&(n.call(this,{type:"action",data:{type:v.AdClickThru,id:"default"}}),e.open(h.getClickURL("default")))})),void setTimeout(function(){n.call(this,{type:"action",data:{type:v.AdLoaded}})}.bind(this),100)}u.realWindow.addEventListener("message",function(e){if(e.origin===u.origin){var t={};try{t=JSON.parse(e.data)}catch(i){}t.id===this.root.id&&n.call(this,t)}}.bind(this),!1),this.frameElement=this.root.appendChild(t.createElement("iframe")),this.frameElement.setAttribute("scrolling","no"),this.frameElement.setAttribute("frameborder","no"),this.frameElement.setAttribute("allow","autoplay"),this.frameElement.src=(u.adParameters.customView?u.adParameters.customView:u.adParameters.mediapath+"index.html")+"?id="+this.root.id},hide:function(e){this.frameElement&&(this.frameElement.style.display=e?"none":"inline-block")},update:function(e){this.frameElement&&this.frameElement.contentWindow&&("object"==typeof e&&f&&(e.viewState=e.viewState||f.getViewAbility(u.viewAbilityPercent,u.viewAbilityHasFocus).state),this.frameElement&&this.frameElement.contentWindow.postMessage(JSON.stringify({id:this.root.id,event:e}),"*"))},destroy:function(){if(!this.root||!this.root.parentNode||"function"!=typeof this.root.parentNode.removeChild)return!1;if(this.root.parentNode.removeChild(this.root),this.videoElement&&this.videoElement.attributes)for(;this.videoElement.attributes.length;)this.videoElement.removeAttribute(this.videoElement.attributes[0].nodeName);for(var e in u.savedAttributes)this.videoElement.setAttribute(e,u.savedAttributes[e]);if(u.savedSource&&""!==u.savedSource&&(this.videoElement.setAttribute("src",u.savedSource),this.videoElement.load(),this.videoElement.play()),"function"==typeof this.videoElement.querySelectorAll)for(var t=this.videoElement.querySelectorAll("source[id^='wb-src-']"),i=0;i<t.length;i++)this.videoElement.removeChild(t[i]);if(this.videoElement&&this.videoElement.attributes)for(var a,i=0,r=this.videoElement.attributes,o=r.length;i<o;i++)a=r[i];return!0},cssStyle:function(e){this.root.style.cssText=e,this.updateSize()},resizeVideoElement:function(e){this.videoElement&&this.videoElement.style&&(this.videoElement.style.width=e.width+("string"==typeof e.width?"":"px"),this.videoElement.style.height=e.height+("string"==typeof e.height?"":"px"),this.videoElement.style.top=e.top+("string"==typeof e.top?"":"px"),this.videoElement.style.left=e.left+("string"==typeof e.left?"":"px"))},updateSize:function(){return!!this.root&&(this.root.style.width=u.adSize.width+"px",this.root.style.height=u.adSize.height+"px",void(this.videoElement&&this.videoElement.style&&(this.videoElement.style.width=u.adSize.width+"px",this.videoElement.style.height=u.adSize.height+"px")))}},h={init:function(t,i,a){this.options={protocol:e.location.protocol,domain:t.domain,account:t.account,tte:t.tte,aap:t.aap,agi:Math.round(1e3*Math.random())},this.options.protocol.indexOf("http")==-1&&(this.options.protocol="https:"),this.viewableEvents=i||[],this.pixelTrackEvents=a},protocol:function(){return this.options.protocol},trackEvent:function(e){if(v.convert(e)!==e){var t="{{protocol}}//{{domain}}/fcgi-bin/dispatch.fcgi?a.A=ev&a.si={{account}}&a.te={{tte}}&a.aap={{aap}}&a.agi={{agi}}&a.evn={{name}}&g.ra={{random}}";e===v.AdImpression&&(t="{{protocol}}//{{domain}}/fcgi-bin/dispatch.fcgi?a.A=im&a.si={{account}}&a.te={{tte}}&a.aap={{aap}}&a.agi={{agi}}&a.hr=XC&g.ra={{random}}"),this.options.name=v.convert(e),this.options.random=Math.round(1e6*Math.random()),this.sendToURL(this.prepareURL(t,this.options))}if(this.pixelTrackEvents.hasOwnProperty(e)&&""!=this.pixelTrackEvents[e]&&this.sendToURL(this.pixelTrackEvents[e]),this.viewableEvents.indexOf(e)!=-1){var i=e+f.getViewAbility(u.viewAbilityPercent,u.viewAbilityHasFocus).state;this.customEvent(i)}},customEvent:function(e){e.indexOf("extended_video")!=-1&&(e+="_"+f.getViewAbility(u.viewAbilityPercent,u.viewAbilityHasFocus).state.toLowerCase());var t="{{protocol}}//{{domain}}/fcgi-bin/dispatch.fcgi?a.A=ev&a.si={{account}}&a.te={{tte}}&a.aap={{aap}}&a.agi={{agi}}&a.evn={{name}}&g.ra={{random}}";this.options.name=e,this.options.random=Math.round(1e6*Math.random()),this.sendToURL(this.prepareURL(t,this.options)),this.pixelTrackEvents.hasOwnProperty(e)&&""!=this.pixelTrackEvents[e]&&this.sendToURL(this.pixelTrackEvents[e]),e!=g.MRCViewable&&e!=g.MRCUnviewable||p.update({type:e}),u.adParameters.hasOwnProperty("customEvents")&&u.adParameters.customEvents.hasOwnProperty(e)&&this.sendToURL(this.prepareURL(u.adParameters.customEvents[e],this.options))},getClickURL:function(){var e="{{protocol}}//{{domain}}/fcgi-bin/dispatch.fcgi?a.A=cl&a.si={{account}}&a.te={{tte}}&a.aap={{aap}}&a.agi={{agi}}&g.lu=";return u.customParams.utm&&(this.options.aycp=encodeURIComponent(u.customParams.utm),e+="&a.ycp={{aycp}}"),this.prepareURL(e,this.options)},prepareURL:function(e,t){t=t||this.options,u.adParameters.hasOwnProperty("wcm")&&u.adParameters.wcm.hasOwnProperty("siteid")&&(t.aycp=u.adParameters.wcm.siteid,e+="&a.ycp={{aycp}}");for(var i in t)t.hasOwnProperty(i)&&(e=e.replace(new RegExp("{{"+i+"}}","g"),t[i]));return e},sendToURL:function(e,t){var i=new Image;t&&(i.onload=i.onerror=t),i.src=e}},a.ON="Audible",a.OFF="Inaudible",a.DELAY=250,a.FIRE_TIME=2e3,a.prototype.start=function(){this.updater||(this.updater=setInterval(a.updateTime.bind(this),a.DELAY))},a.prototype.pause=function(){this.updater&&(clearInterval(this.updater),this.updater=null)},a.prototype.stop=function(e){this.updater&&clearInterval(this.updater),a.updateTime.call(this),this.audibilityFired||e||(this.audibilityFired=!0,h.customEvent(a.OFF))},a.updateTime=function(){return this.audibilityFired?clearInterval(this.updater):(u.mute||u.volume<=0?this.secondsAudible=0:this.secondsAudible+=a.DELAY,void(this.secondsAudible>=a.FIRE_TIME&&(this.audibilityFired=!0,h.customEvent(a.ON),clearInterval(this.updater))))},r.DELAY=250,r.ON_PAGE="OnPage",r.S_FRAME="SameDomainFrame",r.X_FRAME="CrossDomainFrame",r.VIEWABLE="Viewable",r.NOT_VIEWABLE="Unviewable",r.UNDETERMINED="Undetermined",r.prototype.hasFocus=function(){return("undefined"===t.hidden||t.hidden!==!0)&&(this.getPosition()===r.X_FRAME||"function"!=typeof e.top.document.hasFocus||e.top.document.hasFocus())},r.prototype.getPosition=function(){if(!this.position)if(e.top===u.realWindow)this.position=r.ON_PAGE;else{this.position=r.S_FRAME;try{for(var t=u.realWindow;t.parent!==t;){if(t.parent.document.domain!==t.document.domain){this.position=r.X_FRAME;break}t=t.parent}}catch(i){this.position=r.X_FRAME}}return this.position},r.prototype.init=function(e,t){if(this.intersectionSupport){var i=navigator.userAgent.toLowerCase().indexOf("firefox")>-1?this.rootElement.ownerDocument.defaultView.IntersectionObserver:IntersectionObserver;this.intersectionObserver=new i(function(e){this.intersectionRatio=Math.round(1e4*e[0].intersectionRatio)/100}.bind(this),{threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]}),this.intersectionObserver.observe(this.rootElement)}else if(this.getPosition()==r.X_FRAME){if(e&&e.length&&"function"==typeof t)for(;e.length;)t(e.shift().name+r.UNDETERMINED);return!1}2==arguments.length&&e&&e.length&&"function"==typeof t&&(this.observerData=e,this.observerHandler=t)},r.prototype.start=function(){this.updater||(this.updater=setInterval(r.updateTime.bind(this),r.DELAY))},r.prototype.pause=function(){this.updater&&(clearInterval(this.updater),this.updater=null)},r.prototype.stop=function(e){if(this.updater&&clearInterval(this.updater),r.updateTime.call(this),this.observerData&&this.observerData.length&&!e)for(;this.observerData.length;)this.observerHandler(this.observerData.shift().name+r.NOT_VIEWABLE);this.observerData=[]},r.prototype.getViewAbility=function(t,i){if(this.intersectionSupport)return r.match(this.hasFocus(),i,this.intersectionRatio,t);if(this.getPosition()==r.X_FRAME)return{state:r.UNDETERMINED,percent:0,focus:!1};var a=u.realWindow,o=this.rootElement.getBoundingClientRect(),n=r.calculateArea(o,a);try{for(;a!==e.top;){var s=a.name||(a.name="wb-"+Math.round(1e6*Math.random()).toString(16));a=a.parent,o=a.frames[s].frameElement.getBoundingClientRect(),n=Math.min(r.calculateArea(o,a),n)}}catch(d){return{state:r.UNDETERMINED,percent:0,focus:!1}}return r.match(this.hasFocus(),i,n,t)},r.updateTime=function(){var e=this.getViewAbility();if(!this.observerData||!this.observerData.length)return clearInterval(this.updater);for(var t=[],i=0;i<this.observerData.length;i++){var a=this.observerData[i];u.customParams.nr&&(a.useFocus=!1),"string"!=typeof a.duration||a.duration.indexOf("%")==-1||isNaN(u.metaData.totalTime)||(a.duration=Math.floor(2*u.metaData.totalTime)/2*parseInt(a.duration,10)*10),(!a.useFocus||e.focus)&&Math.round(e.percent)>=a.percent?"true"==a.useSound?a.timeInView=u.mute?0:r.DELAY+(a.timeInView||0):a.timeInView=r.DELAY+(a.timeInView||0):a.timeInView=0,a.timeInView>=a.duration?this.observerHandler(a.name+r.VIEWABLE):t.push(a)}this.observerData=t},r.match=function(e,t,i,a){var o=r.NOT_VIEWABLE;return 3333333==i?(o=r.UNDETERMINED,{state:o,focus:e,percent:i}):((e||!t)&&i>=a&&(o=r.VIEWABLE),{state:o,focus:e,percent:i})},r.calculateArea=function(e,t){if(u.customParams.dmmt){if(!e)return h.customEvent("calculateArea_rectElement"),3333333;if(!t)return h.customEvent("calculateArea_targetWindow"),3333333}var i=e.width*e.height,a=e.width,r=e.height;return e.top<0&&(r+=e.top),e.bottom>t.innerHeight&&(r-=e.bottom-t.innerHeight),e.left<0&&(a+=e.left),e.right>t.innerWidth&&(a-=e.right-t.innerWidth),a*r*100/i},v={create:function(e,t){return{type:e,data:t}},convert:function(e){return{AdLoaded:"load",AdStarted:"creativeView",AdVideoStart:"start",AdImpression:"impression",AdVideoFirstQuartile:"firstQuartile",AdVideoMidpoint:"midpoint",AdVideoThirdQuartile:"thirdQuartile",AdVideoComplete:"complete",AdUserClose:"close",AdClickThru:"click",AdPaused:"pause",AdPlaying:"resume",AdVolumeChange:"volume"}[e]||e}},v.AdLoaded="AdLoaded",v.AdStarted="AdStarted",v.AdStopped="AdStopped",v.AdSkipped="AdSkipped",v.AdLinearChange="AdLinearChange",v.AdSizeChange="AdSizeChange",v.AdExpandedChange="AdExpandedChange",v.AdSkippableStateChange="AdSkippableStateChange",v.AdRemainingTimeChange="AdRemainingTimeChange",v.AdDurationChange="AdDurationChange",v.AdVolumeChange="AdVolumeChange",v.AdImpression="AdImpression",v.AdVideoStart="AdVideoStart",v.AdVideoFirstQuartile="AdVideoFirstQuartile",v.AdVideoMidpoint="AdVideoMidpoint",v.AdVideoThirdQuartile="AdVideoThirdQuartile",v.AdVideoComplete="AdVideoComplete",v.AdClickThru="AdClickThru",v.AdInteraction="AdInteraction",v.AdUserAcceptInvitation="AdUserAcceptInvitation",v.AdUserMinimize="AdUserMinimize",v.AdUserClose="AdUserClose",v.AdPaused="AdPaused",v.AdPlaying="AdPlaying",v.AdLog="AdLog",v.AdError="AdError",g={},g.MRCViewable="MRCViewable",g.MRCUnviewable="MRCUnviewable",E={injectScripts:function(e,i){if(i&&i.length)for(var a in i)if(i.hasOwnProperty(a)){var r=t.createElement("script");r.type="text/javascript",r.src=i[a],e.appendChild(r)}},injectIFrames:function(e,i){if(u.customParams.sf>0){var a=t.createElement("iframe");a.src=h.protocol()+"//cstatic.weborama.fr/iframe/external_all.html",a.style.cssText="width:1px;height:1px;visibility:hidden;position:absolute;border:0",e.appendChild(a)}if(i&&i.length)for(var r in i)if(i.hasOwnProperty(r)){var a=t.createElement("iframe");a.src=i[r],a.style.cssText="width:1px;height:1px;visibility:hidden;position:absolute;border:0",e.appendChild(a)}},log:function(){i&&console.log.apply(console,["JS-VPAID-WCM::INFO =>"].concat(arguments))},warn:function(){console.log.apply(console,["JS-VPAID-WCM::WARN =>"].concat(arguments))},error:function(){console.log.apply(console,["JS-VPAID-WCM::ERROR =>"].concat(arguments))}},c=function(){console.log("JS-VPAID-WCM::INFO => 2019-06-03T12:08:47.863Z")},c.prototype.handshakeVersion=function(){return"2.0"},c.prototype.initAd=function(o,n,c,l,g,y){function b(i,a,r,o){var n=t.createElement("script"),s={events:[],addEvent:function(e){u.sendEvent?(s.events&&(u.sendEvent(s.events),s.events=!1),u.sendEvent(e)):s.events.push(e)}},d=function(e){return function(){var t,a=-1;if(i&&i.getAdVolume&&(t=i.getAdVolume()),"number"==typeof t&&!isNaN(t)&&0<=t&&(a=t),s.addEvent({type:e,adVolume:a}),-1!==p.indexOf(e)&&i&&i.unsubscribe&&!l){l=!0;for(var r in c)if(c.hasOwnProperty&&c.hasOwnProperty(r))try{i.unsubscribe(c[r],r)}catch(o){}}}},u={adData:{ids:r,vpaid:i,build:"cc07a80-clean"},dispatchEvent:s.addEvent};r="_moatApi"+Math.floor(1e8*Math.random());var c={AdStarted:d("AdStarted"),AdStopped:d("AdStopped"),AdSkipped:d("AdSkipped"),AdLoaded:d("AdLoaded"),AdLinearChange:d("AdLinearChange"),AdSizeChange:d("AdSizeChange"),AdExpandedChange:d("AdExpandedChange"),AdSkippableStateChange:d("AdSkippableStateChange"),AdDurationChange:d("AdDurationChange"),AdRemainingTimeChange:d("AdRemainingTimeChange"),AdVolumeChange:d("AdVolumeChange"),AdImpression:d("AdImpression"),AdClickThru:d("AdClickThru"),AdInteraction:d("AdInteraction"),AdVideoStart:d("AdVideoStart"),AdVideoFirstQuartile:d("AdVideoFirstQuartile"),AdVideoMidpoint:d("AdVideoMidpoint"),AdVideoThirdQuartile:d("AdVideoThirdQuartile"),AdVideoComplete:d("AdVideoComplete"),AdUserAcceptInvitation:d("AdUserAcceptInvitation"),AdUserMinimize:d("AdUserMinimize"),AdUserClose:d("AdUserClose"),AdPaused:d("AdPaused"),AdPlaying:d("AdPlaying"),AdError:d("AdError")},l=!1,p=["AdStopped","AdSkipped","AdVideoComplete"];!function(){if(i&&i.subscribe)for(var e in c)c.hasOwnProperty&&c.hasOwnProperty(e)&&i.subscribe(c[e],e)}();var h,m;try{h=a.ownerDocument,m=h.defaultView||h.parentWindow}catch(f){h=t,m=e}return m[r]=u,n.type="text/javascript",a&&a.insertBefore(n,a.childNodes[0]||null),n.src="https://z.moatads.com/"+o+"/moatvideo.js#"+r,u}if("string"==typeof g&&(g={AdParameters:g},E.warn('The typeof parameter "creativeData" should be an "object" with key "AdParameters"'),E.warn("Read page 44 from https://www.iab.com/wp-content/uploads/2015/06/VPAID_2_0_Final_04-10-2012.pdf")),"object"!=typeof g||!g.AdParameters||"object"!=typeof y||!y.slot)return E.error(d.WRONG_INIT_PARAMS),E.error("initAd",arguments),s.d(v.create(v.AdError,d.WRONG_INIT_PARAMS));try{u.adParameters=JSON.parse(g.AdParameters)}catch(S){return E.error(d.WRONG_AD_PARAMETERS),E.error("initAd",arguments),s.d(v.create(v.AdError,d.WRONG_AD_PARAMETERS))}var P={andr:0,cet:0,cf:0,co:5,ct:1,daf:750,dm:0,dmmt:0,fl:0,fdc:0,impid:0,moat:0,nr:0,plc:0,pg:0,poc:0,sd:0,sf:0,sk:1,ss:1,st:1,up:0,us:0,utm:0};try{if(u.adParameters.cp)for(var w=decodeURIComponent(u.adParameters.cp).split("|"),T=0;T<w.length;T++)if(w[T]){var C=w[T].split(":");2==C.length&&""!=C[1]?"undefined"!=typeof P[C[0]]?P[C[0]]=C[1].match(/[a-zA-Z]/i)?C[1]:parseInt(C[1],10):P[C[0]]=C[1]:P[C[0]]=!0}}catch(S){}if(u.customParams=P,u.playerSizeParams=u.adParameters.playerSize||{PlayerSmall:[0,480],PlayerNormal:[480,720],PlayerBig:[720,960],PlayerHuge:[960,0]},u.adSize={width:o,height:n,viewMode:c},i=!!u.customParams.dm,u.defaultVolume=.5,E.log("initAd",arguments),y.videoSlot&&"undefined"!=typeof y.videoSlot.attributes)for(var _,T=0,V=y.videoSlot.attributes,R=V.length;T<R;T++)_=V[T],u.savedAttributes[_.nodeName]=_.nodeValue;var I=[v.AdImpression,v.AdVideoStart,v.AdVideoFirstQuartile,v.AdVideoMidpoint,v.AdVideoThirdQuartile,v.AdVideoComplete],D={};if(u.adParameters.pixel&&u.adParameters.pixel.length)for(var T=0;T<u.adParameters.pixel.length;T++){var M=u.adParameters.pixel[T];D[M.name]=M.url}h.init(u.adParameters.wcm,I,D),y.slot&&1===y.slot.nodeType||(y.slot=t.body,E.warn('Invalid parameter "environmentVars.slot"'));var k=0;for(var O in y.videoSlot)if(y.videoSlot.hasOwnProperty(O)){var L=""+y.videoSlot[O];switch(O){case"currentSrc":case"currentTime":case"duration":case"ended":case"handlers":case"paused":case"playbackRate":case"playsinline":case"src":case"type":case"webkit-playsinline":k++}L.indexOf("goog_")!==-1&&(u.flags.isGoog=!0)}if(!y.videoSlot||1===y.videoSlot.nodeType&&"VIDEO"===y.videoSlot.nodeName.toUpperCase()||u.flags.isGoog||(k>=10?u.flags.isGoog=!0:(y.videoSlot=null,E.warn('Invalid parameter "environmentVars.videoSlot"'))),p.init(y.slot,y.videoSlot?y.videoSlot:null),m=new a,f=new r(p.root),f.init(u.adParameters.mrcTracker,function(e){u.flags[e]=!0,h.customEvent(e)}.bind(this)),E.injectScripts(p.root,u.adParameters.scripts),E.injectIFrames(p.root,u.adParameters.frames),u.customParams.moat){var N={level1:u.adParameters.wcm.account,level2:u.adParameters.wcm.campaign,level3:u.adParameters.wcm.site,level4:u.adParameters.wcm.insertion},F="weboramajsvpaid879197115859";b(A,y.slot,N,F)}if(u.customParams.poc)var x=setInterval(function(){var e=f.getViewAbility(u.viewAbilityPercent,u.viewAbilityHasFocus).state;u.flags.visibleReport!=e&&(u.flags.visibleReport=e,e==r.VIEWABLE?A.resumeAd():e==r.NOT_VIEWABLE?A.pauseAd():e==r.UNDETERMINED&&clearInterval(x))},500);h.customEvent(f.getPosition())},c.prototype.startAd=function(){E.log("startAd"),l.play()&&(u.state=v.AdStarted)},c.prototype.stopAd=function(){E.log("stopAd"),l.stop(),m.stop(),f.stop(),p.destroy()&&(u.state=v.AdStopped)},c.prototype.skipAd=function(){this.getAdSkippableState()&&(E.log("skipAd"),u.state=v.AdSkipped,l.stop(),m.stop(),f.stop(),p.hide(!0),setTimeout(function(){A.stopAd()},u.customParams.daf))},c.prototype.resizeAd=function(e,t,i){E.log("resizeAd",arguments);var a=u.fullscreen;u.adSize={width:e,height:t,viewMode:i||"normal"},u.fullscreen&&!a&&h.customEvent("isFullscreen"),p.updateSize()},c.prototype.pauseAd=function(){u.flags.userEngaged||(l.pause(),m.pause(),f.pause())},c.prototype.fakePauseAd=function(e){u.flags.userEngaged=!0,l.pause(),u.remainingTime=-2,u.duration=-2},c.prototype.resumeAd=function(){u.flags.userEngaged||(l.resume(),m.start(),f.start())},c.prototype.expandAd=function(){s.d(v.create(v.AdLog,d.NOT_ALLOWED_METHOD))},c.prototype.collapseAd=function(){s.d(v.create(v.AdLog,d.NOT_ALLOWED_METHOD))},c.prototype.setAdVolume=function(e){E.log("setAdVolume",e),e="string"==typeof e?parseInt(e,10):e,e>1&&(e/=100),e<0&&(e=0),u.mute=!e,u.volume=e},c.prototype.getAdVolume=function(){return u.mute?0:u.volume},c.prototype.getAdDuration=function(){return u.flags.userEngaged?u.duration:u.metaData?u.metaData.totalTime:-2},c.prototype.getAdLinear=function(){return u.linear},c.prototype.getAdWidth=function(){
return u.adSize.width},c.prototype.getAdHeight=function(){return u.adSize.height},c.prototype.getAdRemainingTime=function(){return u.remainingTime},c.prototype.getAdExpanded=function(){return!0},c.prototype.getAdSkippableState=function(){return u.canSkip},c.prototype.getAdIcons=function(){return!1},c.prototype.getAdCompanions=function(){return""},c.prototype.subscribe=function(e,t,i){s.subscribe(e,t,i)},c.prototype.unsubscribe=function(e,t){s.unsubscribe(e,t)},e.getVPAIDAd=function(){return A||(A=new c),A}}(window,document);