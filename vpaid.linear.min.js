!function(t,e,i){function a(e){this.rootElement=e,this.intersectionSupport=!!t.IntersectionObserver,this.intersectionRatio=-1}function r(t){switch(t.type){case f.AdVideoStart:l.hide(!1),d.state=f.AdImpression,d.state=f.AdVideoStart,p.start();break;case f.AdRemainingTimeChange:d.metaData=t.data;break;case f.AdError:d.state=f.AdError,h.customEvent(f.AdError+"_"+s.MEDIA_FILES_ERROR.code),p.stop(!0),setTimeout(function(){m.stopAd()},250);break;case f.AdVideoComplete:d.customParams.fdc?(n.d(f.create(f.AdVideoComplete,d.metaData)),l.hide(!0),setTimeout(function(){m.stopAd()},d.customParams.daf)):(d.state=f.AdVideoComplete,d.flags.MRCViewable&&d.customParams.pg&&h.customEvent("AdVideoCompleteMRC"),p.stop(),l.hide(!0),setTimeout(function(){m.stopAd()},d.customParams.daf));break;case f.AdPaused:d.state=f.AdPaused;break;case f.AdPlaying:d.state=f.AdPlaying;break;default:v.error("======================== UNTREATED MEDIA EVENT ========================>",t)}}function o(t){if("event"===t.type)return h.customEvent(t.data.type);if("apply"===t.type)return"function"==typeof m[t.data.method]?m[t.data.method].apply(m,t.data.args):"function"==typeof l[t.data.method]?l[t.data.method].apply(l,t.data.args):v.error('CAN\'T "apply" METHOD =>',t.data.method);if("action"===t.type)switch(t.data.type){case f.AdLoaded:var e=d.adParameters.submediapath?d.adParameters.submediapath:d.adParameters.mediapath;l.update({type:"SetConfig",data:{clickUrl:h.getClickURL("default"),customParams:d.customParams,defaultVolume:d.defaultVolume,location:d.location,domain:d.hostname,ssp:d.customParams.impid,mediapath:e}}),l.hide(!0),u.init(l.videoElement)?(d.state=f.AdLoaded,d.linear=!0):(d.metaData=s.MEDIA_FILES_NOT_FOUND,d.state=f.AdError,h.customEvent(f.AdError+"_"+s.MEDIA_FILES_NOT_FOUND.code));break;case f.AdClickThru:t.data.url?n.d(f.create(f.AdClickThru,{playerHandles:!0,id:t.data.id,url:t.data.url})):n.d(f.create(f.AdClickThru,{playerHandles:!1,id:t.data.id})),h.trackEvent(f.AdClickThru),d.customParams.cet&&Math.round(d.metaData.currentTime)>=0&&h.customEvent("AdVideoClick"+Math.round(d.metaData.currentTime));break;case f.AdUserClose:d.state=f.AdUserClose,u.stop(),p.stop(),l.hide(!0),setTimeout(function(){m.stopAd()},d.customParams.daf);break;default:v.error("======================== UNTREATED VIEW EVENT ========================>",t)}else v.error("UNKNOWN TYPE VIEW EVENT =>",t)}var n,s,d,c,u,l,h,p,m,f,A,v;n={subscribers:{},subscribe:function(t,e,i){"string"==typeof e&&(e=[e]);for(var a=0,r=e.length;a<r;a++){var o=e[a];this.subscribers[o]||(this.subscribers[o]=[]),this.subscribers[o].push({fn:t,ctx:i||null})}},unsubscribe:function(t,e){"string"==typeof e&&(e=[e]);for(var i=e.length;i>=0;i--){var a=this.subscribers[e[i]];if(a&&Array.isArray(a)&&a.length)for(var r=a.length-1;r>=0;r--)"undefined"!=typeof a[r]&&a[r].fn===t&&a.splice(r,1)}},d:function(t){t.type!=f.AdRemainingTimeChange&&v.log("DispatchEvent =>",t.type,p?p.getViewAbility(d.viewAbilityPercent,d.viewAbilityHasFocus).state:"",(this.subscribers[t.type]||[]).length),(this.subscribers[t.type]||[]).forEach(function(e){e.fn&&(t.type==f.AdClickThru&&d.customParams.plc?e.fn.call(e.ctx,t.data.url,t.data.id,t.data.playerHandles):e.fn.call(e.ctx,t))})}},s={WRONG_INIT_PARAMS:{code:900,message:"Initialization parameters are wrong"},WRONG_AD_PARAMETERS:{code:900,message:"Can't parse AdParameters"},NOT_ALLOWED_METHOD:{code:0,message:"This method is not supported"},MEDIA_FILES_ERROR:{code:405,message:"Could not display mediaFile"},MEDIA_FILES_NOT_FOUND:{code:403,message:"Supported mediaFiles not found"}},d=Object.create(Object.prototype,{linear:{get:function(){return this._linear||!0},set:function(t){this._linear!==t&&(this._linear=t,n.d(f.create(f.AdLinearChange,{value:t})))}},isPreviewer:{get:function(){return this._isPreviewer||(this._isPreviewer="none",p.getPosition()!==a.X_FRAME&&(this._isPreviewer="clients.weborama.nl"==t.top.location.host?"preview":"none")),"preview"==this._isPreviewer}},remainingTime:{get:function(){return this._remainingTime||-1},set:function(t){this.remainingTime!==t&&(this._remainingTime=t,l.update({type:f.AdRemainingTimeChange,data:this.metaData}),n.d(f.create(f.AdRemainingTimeChange,{value:this.remainingTime})))}},canSkip:{get:function(){return!(!this._canSkip&&!this.customParams.sk)},set:function(t){this._canSkip!==t&&(this._canSkip=t,l.update({type:f.AdSkippableStateChange,data:{value:t}}),n.d(f.create(f.AdSkippableStateChange,{value:t})))}},adSize:{get:function(){return this._adSize||{}},set:function(t){this._adSize?this._adSize.width===t.width&&this._adSize.height===t.height||(this._adSize=t,l.update({type:f.AdSizeChange,data:this.adSize}),n.d(f.create(f.AdSizeChange,{width:t.width,height:t.height}))):this._adSize=t}},duration:{get:function(){return this._duration||-2},set:function(t){this._duration!==t&&(this._duration=t,n.d(f.create(f.AdDurationChange,{duration:t})))}},defaultVolume:{get:function(){return this._defaultVolume},set:function(t){t&&(this._defaultVolume=t)}},volume:{get:function(){return this._volume||this.defaultVolume},set:function(t){if(this._volume!==t){this._volume=t,this.defaultVolume=t,l.update({type:f.AdVolumeChange,data:{volume:t},mute:!!t});try{"undefined"!=typeof u.video&&(u.video.volume=t)}catch(e){v.error("set volume",t,e)}h.trackEvent(f.AdVolumeChange),n.d(f.create(f.AdVolumeChange,{volume:t}))}}},mute:{get:function(){return this._mute},set:function(t){if(this._mute!==!!t&&h.customEvent(t?"mute":"unmute"),"undefined"!=typeof u.video){try{u.video.muted=!!t}catch(e){v.error("set muted",t,e)}u.video.f||(t?u.video.setAttribute("muted","muted"):u.video.removeAttribute("muted"))}this._mute=!!t}},state:{set:function(t){this.state!==t&&this.state!==f.AdStopped&&(this._state=t,l.update({type:t,data:this.metaData}),h.trackEvent(t),n.d(f.create(t,this.metaData)))},get:function(){return this._state}},metaData:{get:function(){return this._metaData||{totalTime:30,currentTime:0}},set:function(t){if(this._metaData){this._metaData=t,t.currentTime>=this.customParams.co&&(d.canSkip=!0);var e=t.currentTime/t.totalTime;e>=.25&&d.middleEvents[0]===!1&&(d.middleEvents[0]=!0,h.trackEvent(f.AdVideoFirstQuartile),l.update({type:f.AdVideoFirstQuartile,data:this.metaData}),n.d(f.create(f.AdVideoFirstQuartile,t))),e>=.5&&d.middleEvents[1]===!1&&(d.middleEvents[1]=!0,h.trackEvent(f.AdVideoMidpoint),l.update({type:f.AdVideoMidpoint,data:this.metaData}),n.d(f.create(f.AdVideoMidpoint,t))),e>=.75&&d.middleEvents[2]===!1&&(d.middleEvents[2]=!0,h.trackEvent(f.AdVideoThirdQuartile),l.update({type:f.AdVideoThirdQuartile,data:this.metaData}),n.d(f.create(f.AdVideoThirdQuartile,t))),d.customParams.fdc&&t.totalTime-t.currentTime<d.customParams.fdc&&d.middleEvents[3]===!1&&(d.middleEvents[3]=!0,h.trackEvent(f.AdVideoComplete),l.update({type:f.AdVideoComplete,data:this.metaData}),d.flags.MRCViewable&&d.customParams.pg&&h.customEvent("AdVideoCompleteMRC"),p.stop())}else this._metaData=t,n.d(f.create(f.AdDurationChange,this.metaData));d.remainingTime=this.metaData.totalTime-this.metaData.currentTime}},middleEvents:{value:[!1,!1,!1,!1]},savedSource:{get:function(){return this._savedSource||""},set:function(t){this._savedSource=t}},savedAttributes:{value:{}},origin:{get:function(){if(!this._origin){var t=d.adParameters.customView||d.adParameters.mediapath,e=t.split("/");e.length=3,this._origin=e.join("/")}return this._origin}},location:{get:function(){if(!this._location)if(this._location=encodeURIComponent(d.realWindow.location.href),p.getPosition()!==a.X_FRAME)this._location=encodeURIComponent(t.top.location.href);else try{var e=d.realWindow.location.ancestorOrigins;if(e&&e.length>0){var i=e[e.length-1];i.indexOf("chrome-extension")>=0?this._location=encodeURIComponent("fraudulent-chromium-extension"):"http://a"==i||"https://a"==i?this._location=encodeURIComponent(e[0]):this._location=encodeURIComponent(i)}}catch(r){}return this._location}},hostname:{get:function(){return this._hostname||(this._location.indexOf("://")>-1?this._hostname=this._location.split("/")[2]:this._hostname=this._location.split("/")[0],this._hostname=this._hostname.split(":")[0],this._hostname=this._hostname.split("?")[0]),this._hostname}},realWindow:{get:function(){var t=l.root.ownerDocument;return d.customParams.dmmt&&(t.defaultView||t.parentWindow||h.customEvent("realWindow_error")),t.defaultView||t.parentWindow}},viewAbilityPercent:{get:function(){return 50}},viewAbilityHasFocus:{get:function(){return!d.customParams.nr}},customParams:{get:function(){return this._customParams},set:function(t){this._customParams||(this._customParams=t)}},flags:{value:{}}}),u={flags:{},init:function(t){if(!this.flags.inited&&!this.flags.started){this.flags.inited=!0,this.video=t;var i,a,o=d.adParameters.mediafiles,n=d.adParameters.submediapath?d.adParameters.submediapath:d.adParameters.mediapath;for(i=0;i<this.events.length;i++)this.video.addEventListener(this.events[i],function(t){if(!this.flags.stopped){var e={totalTime:t.target.duration,currentTime:t.target.currentTime};switch(t.type){case"play":this.flags.videoStart&&r.call(this,f.create(f.AdPlaying,e));break;case"pause":if(e.currentTime/e.totalTime>=.98)return;r.call(this,f.create(f.AdPaused,e));break;case"ended":r.call(this,f.create(f.AdVideoComplete,e));break;case"error":v.error("JS-VPAID-WCM::ERROR => mediaElement",t),r.call(this,f.create(f.AdError,e));break;case"timeupdate":!this.flags.videoStart&&e.currentTime&&(this.flags.videoStart=!0,this.flags.started=!0,r.call(this,f.create(f.AdVideoStart,e)),t.target.currentSrc&&t.target.currentSrc.match(/[a-z0-9]+$/)&&h.customEvent(t.target.currentSrc.match(/[a-z0-9]+$/)[0].toUpperCase())),r.call(this,f.create(f.AdRemainingTimeChange,e))}}}.bind(this),!0);for(1===this.video.nodeType&&"function"==typeof this.video.hasAttribute&&this.video.hasAttribute("src")&&"function"==typeof this.video.getAttribute&&""!=this.video.getAttribute("src")&&(d.savedSource=this.video.getAttribute("src"),this.video.removeAttribute("src")),i=0;i<o.length;i++)if(this.video.canPlayType(o[i].type)){var s=e.createElement("source");if(s.type=o[i].type,s.src=n+o[i].src,s.id="wb-src-"+Math.round(1e12*Math.random()).toString(36),"function"==typeof this.video.appendChild&&this.video.appendChild(s),this.video.f&&this.video.f.indexOf("goog_")!=-1||"function"==typeof this.video.hasAttribute&&!this.video.hasAttribute("src")||"function"==typeof this.video.getAttribute&&""==this.video.getAttribute("src")){var c=n+o[i].src;this.video.setAttribute("src",c)}"function"==typeof this.video.load&&this.video.load(),a=!0}var u=navigator.userAgent;if(u.indexOf("Chrome")<0&&u.indexOf("Safari")>=0){var l,p;l=u.indexOf("Safari"),p=u.substring(l+7),(l=u.indexOf("Version"))!=-1&&(p=u.substring(l+8));var m=parseInt(p.substring(0,2));m>=11&&(d.volume=0,d.mute=!0)}return d.customParams.sd>0&&(d.volume=0,d.mute=!0),a}},play:function(){return!(!this.flags.inited||this.flags.started)&&(this.video.play(),!0)},pause:function(){!this.flags.paused&&this.flags.started&&(this.flags.paused=!0,this.video.pause())},resume:function(){this.flags.paused&&(this.flags.paused=!1,this.video.play())},stop:function(){return!(!this.flags.started||this.flags.stopped)&&(this.flags.stopped=!0,void this.pause())},events:["play","pause","ended","timeupdate","error"]},l={flags:{},init:function(i,a){this.root=i.appendChild(e.createElement("div")),this.root.id="wb-"+Math.round(1e12*Math.random()).toString(36);var r=e.createElement("link");r.rel="stylesheet",r.href=d.adParameters.mediapath+"style.min.css?v=6tpxvk98dw8w",this.root.appendChild(r),this.videoElement=a||this.root.appendChild(e.createElement("video")),this.videoElement.setAttribute("webkit-playsinline","playsinline"),this.videoElement.setAttribute("playsinline","playsinline"),d.customParams.nr&&this.videoElement.setAttribute("preload","auto");var n=d.adParameters.submediapath?d.adParameters.submediapath:d.adParameters.mediapath;if(d.customParams.up&&(this.videoElement.poster=n+"poster.png"),this.updateSize(),d.customParams.fl>0){var s=this.root.appendChild(e.createElement("div"));return s.className="click",s.addEventListener("contextmenu",function(e){return e=e||t.event,e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,!1}),d.customParams.ct>0&&(s.style.cursor="pointer",s.addEventListener("click",function(){(0===d.customParams.cf||Math.round(d.metaData.currentTime)>=d.customParams.cf)&&(o.call(this,{type:"action",data:{type:f.AdClickThru,id:"default"}}),t.open(h.getClickURL("default")))})),void setTimeout(function(){o.call(this,{type:"action",data:{type:f.AdLoaded}})}.bind(this),100)}d.realWindow.addEventListener("message",function(t){if(t.origin===d.origin){var e={};try{e=JSON.parse(t.data)}catch(i){}e.id===this.root.id&&o.call(this,e)}}.bind(this),!1),this.frameElement=this.root.appendChild(e.createElement("iframe")),this.frameElement.setAttribute("scrolling","no"),this.frameElement.setAttribute("frameborder","no"),this.frameElement.setAttribute("allow","autoplay"),this.frameElement.src=(d.adParameters.customView?d.adParameters.customView:d.adParameters.mediapath+"index.html")+"?id="+this.root.id},hide:function(t){this.frameElement&&(this.frameElement.style.display=t?"none":"inline-block")},update:function(t){this.frameElement&&this.frameElement.contentWindow&&("object"==typeof t&&p&&(t.viewState=t.viewState||p.getViewAbility(d.viewAbilityPercent,d.viewAbilityHasFocus).state),this.frameElement&&this.frameElement.contentWindow.postMessage(JSON.stringify({id:this.root.id,event:t}),"*"))},destroy:function(){if(!this.root||!this.root.parentNode||"function"!=typeof this.root.parentNode.removeChild)return!1;if(this.root.parentNode.removeChild(this.root),this.videoElement&&this.videoElement.attributes)for(;this.videoElement.attributes.length;)this.videoElement.removeAttribute(this.videoElement.attributes[0].nodeName);for(var t in d.savedAttributes)this.videoElement.setAttribute(t,d.savedAttributes[t]);if(d.savedSource&&""!==d.savedSource&&(this.videoElement.setAttribute("src",d.savedSource),this.videoElement.load(),this.videoElement.play()),"function"==typeof this.videoElement.querySelectorAll)for(var e=this.videoElement.querySelectorAll("source[id^='wb-src-']"),i=0;i<e.length;i++)this.videoElement.removeChild(e[i]);if(this.videoElement&&this.videoElement.attributes)for(var a,i=0,r=this.videoElement.attributes,o=r.length;i<o;i++)a=r[i];return!0},cssStyle:function(t){this.root.style.cssText=t,this.updateSize()},resizeVideoElement:function(t){this.videoElement&&this.videoElement.style&&(this.videoElement.style.width=t.width+("string"==typeof t.width?"":"px"),this.videoElement.style.height=t.height+("string"==typeof t.height?"":"px"),this.videoElement.style.top=t.top+("string"==typeof t.top?"":"px"),this.videoElement.style.left=t.left+("string"==typeof t.left?"":"px"))},updateSize:function(){return!!this.root&&(this.root.style.width=d.adSize.width+"px",this.root.style.height=d.adSize.height+"px",void(this.videoElement&&this.videoElement.style&&(this.videoElement.style.width=d.adSize.width+"px",this.videoElement.style.height=d.adSize.height+"px")))}},h={init:function(e,i,a){this.options={protocol:t.location.protocol,domain:e.domain,account:e.account,tte:e.tte,aap:e.aap,agi:Math.round(1e3*Math.random())},this.options.protocol.indexOf("http")==-1&&(this.options.protocol="https:"),this.viewableEvents=i||[],this.pixelTrackEvents=a},protocol:function(){return this.options.protocol},trackEvent:function(t){if(!d.isPreviewer){if(f.convert(t)!==t){var e="{{protocol}}//{{domain}}/fcgi-bin/dispatch.fcgi?a.A=ev&a.si={{account}}&a.te={{tte}}&a.aap={{aap}}&a.agi={{agi}}&a.evn={{name}}&g.ra={{random}}";t===f.AdImpression&&(e="{{protocol}}//{{domain}}/fcgi-bin/dispatch.fcgi?a.A=im&a.si={{account}}&a.te={{tte}}&a.aap={{aap}}&a.agi={{agi}}&a.hr=XC&g.ra={{random}}"),this.options.name=f.convert(t),this.options.random=Math.round(1e6*Math.random()),this.sendToURL(this.prepareURL(e,this.options))}if(this.pixelTrackEvents.hasOwnProperty(t)&&""!=this.pixelTrackEvents[t]&&this.sendToURL(this.pixelTrackEvents[t]),this.viewableEvents.indexOf(t)!=-1){var i=t+p.getViewAbility(d.viewAbilityPercent,d.viewAbilityHasFocus).state;this.customEvent(i),this.pixelTrackEvents.hasOwnProperty(i)&&""!=this.pixelTrackEvents[i]&&this.sendToURL(this.pixelTrackEvents[i])}}},customEvent:function(t){if(!d.isPreviewer){var e="{{protocol}}//{{domain}}/fcgi-bin/dispatch.fcgi?a.A=ev&a.si={{account}}&a.te={{tte}}&a.aap={{aap}}&a.agi={{agi}}&a.evn={{name}}&g.ra={{random}}";this.options.name=t,this.options.random=Math.round(1e6*Math.random()),this.sendToURL(this.prepareURL(e,this.options)),t!=A.MRCViewable&&t!=A.MRCUnviewable||l.update({type:t}),d.adParameters.hasOwnProperty("customEvents")&&d.adParameters.customEvents.hasOwnProperty(t)&&this.sendToURL(this.prepareURL(d.adParameters.customEvents[t],this.options))}},getClickURL:function(){var t="{{protocol}}//{{domain}}/fcgi-bin/dispatch.fcgi?a.A=cl&a.si={{account}}&a.te={{tte}}&a.aap={{aap}}&a.agi={{agi}}&g.lu=";return d.customParams.utm&&(this.options.aycp=encodeURIComponent(d.customParams.utm),t+="&a.ycp={{aycp}}"),this.prepareURL(t,this.options)},prepareURL:function(t,e){e=e||this.options,d.adParameters.hasOwnProperty("wcm")&&d.adParameters.wcm.hasOwnProperty("siteid")&&(e.aycp=d.adParameters.wcm.siteid,t+="&a.ycp={{aycp}}");for(var i in e)e.hasOwnProperty(i)&&(t=t.replace(new RegExp("{{"+i+"}}","g"),e[i]));return t},sendToURL:function(t,e){var i=new Image;e&&(i.onload=i.onerror=e),i.src=t}},a.DELAY=250,a.ON_PAGE="OnPage",a.S_FRAME="SameDomainFrame",a.X_FRAME="CrossDomainFrame",a.VIEWABLE="Viewable",a.NOT_VIEWABLE="Unviewable",a.UNDETERMINED="Undetermined",a.prototype.hasFocus=function(){return("undefined"===e.hidden||e.hidden!==!0)&&(this.getPosition()===a.X_FRAME||"function"!=typeof t.top.document.hasFocus||t.top.document.hasFocus())},a.prototype.getPosition=function(){if(!this.position)if(t.top===d.realWindow)this.position=a.ON_PAGE;else{this.position=a.S_FRAME;try{for(var e=d.realWindow;e.parent!==e;){if(e.parent.document.domain!==e.document.domain){this.position=a.X_FRAME;break}e=e.parent}}catch(i){this.position=a.X_FRAME}}return this.position},a.prototype.init=function(t,e){if(this.intersectionSupport){var i=navigator.userAgent.toLowerCase().indexOf("firefox")>-1?this.rootElement.ownerDocument.defaultView.IntersectionObserver:IntersectionObserver;this.intersectionObserver=new i(function(t){this.intersectionRatio=Math.round(1e4*t[0].intersectionRatio)/100}.bind(this),{threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]}),this.intersectionObserver.observe(this.rootElement)}else if(this.getPosition()==a.X_FRAME){if(t&&t.length&&"function"==typeof e)for(;t.length;)e(t.shift().name+a.UNDETERMINED);return!1}2==arguments.length&&t&&t.length&&"function"==typeof e&&(this.observerData=t,this.observerHandler=e)},a.prototype.start=function(){this.updater||(this.updater=setInterval(a.updateTime.bind(this),a.DELAY))},a.prototype.pause=function(){this.updater&&clearInterval(this.updater)},a.prototype.stop=function(t){if(this.updater&&clearInterval(this.updater),a.updateTime.call(this),this.observerData&&this.observerData.length&&!t)for(;this.observerData.length;)this.observerHandler(this.observerData.shift().name+a.NOT_VIEWABLE);this.observerData=[]},a.prototype.getViewAbility=function(e,i){if(this.intersectionSupport)return a.match(this.hasFocus(),i,this.intersectionRatio,e);if(this.getPosition()==a.X_FRAME)return{state:a.UNDETERMINED,percent:0,focus:!1};var r=d.realWindow,o=this.rootElement.getBoundingClientRect(),n=a.calculateArea(o,r);try{for(;r!==t.top;){var s=r.name||(r.name="wb-"+Math.round(1e6*Math.random()).toString(16));r=r.parent,o=r.frames[s].frameElement.getBoundingClientRect(),n=Math.min(a.calculateArea(o,r),n)}}catch(c){return{state:a.UNDETERMINED,percent:0,focus:!1}}return a.match(this.hasFocus(),i,n,e)},a.updateTime=function(){var t=this.getViewAbility();if(!this.observerData||!this.observerData.length)return clearInterval(this.updater);for(var e=[],i=0;i<this.observerData.length;i++){var r=this.observerData[i];d.customParams.nr&&(r.useFocus=!1),"string"!=typeof r.duration||r.duration.indexOf("%")==-1||isNaN(d.metaData.totalTime)||(r.duration=Math.floor(2*d.metaData.totalTime)/2*parseInt(r.duration,10)*10),(!r.useFocus||t.focus)&&Math.round(t.percent)>=r.percent?"true"==r.useSound?r.timeInView=d.mute?0:a.DELAY+(r.timeInView||0):r.timeInView=a.DELAY+(r.timeInView||0):r.timeInView=0,r.timeInView>=r.duration?this.observerHandler(r.name+a.VIEWABLE):e.push(r)}this.observerData=e},a.match=function(t,e,i,r){var o=a.NOT_VIEWABLE;return 3333333==i?(o=a.UNDETERMINED,{state:o,focus:t,percent:i}):((t||!e)&&i>=r&&(o=a.VIEWABLE),{state:o,focus:t,percent:i})},a.calculateArea=function(t,e){if(d.customParams.dmmt){if(!t)return h.customEvent("calculateArea_rectElement"),3333333;if(!e)return h.customEvent("calculateArea_targetWindow"),3333333}var i=t.width*t.height,a=t.width,r=t.height;return t.top<0&&(r+=t.top),t.bottom>e.innerHeight&&(r-=t.bottom-e.innerHeight),t.left<0&&(a+=t.left),t.right>e.innerWidth&&(a-=t.right-e.innerWidth),a*r*100/i},f={create:function(t,e){return{type:t,data:e}},convert:function(t){return{AdLoaded:"load",AdStarted:"creativeView",AdVideoStart:"start",AdImpression:"impression",AdVideoFirstQuartile:"firstQuartile",AdVideoMidpoint:"midpoint",AdVideoThirdQuartile:"thirdQuartile",AdVideoComplete:"complete",AdUserClose:"close",AdClickThru:"click",AdPaused:"pause",AdPlaying:"resume",AdVolumeChange:"volume"}[t]||t}},f.AdLoaded="AdLoaded",f.AdStarted="AdStarted",f.AdStopped="AdStopped",f.AdSkipped="AdSkipped",f.AdLinearChange="AdLinearChange",f.AdSizeChange="AdSizeChange",f.AdExpandedChange="AdExpandedChange",f.AdSkippableStateChange="AdSkippableStateChange",f.AdRemainingTimeChange="AdRemainingTimeChange",f.AdDurationChange="AdDurationChange",f.AdVolumeChange="AdVolumeChange",f.AdImpression="AdImpression",f.AdVideoStart="AdVideoStart",f.AdVideoFirstQuartile="AdVideoFirstQuartile",f.AdVideoMidpoint="AdVideoMidpoint",f.AdVideoThirdQuartile="AdVideoThirdQuartile",f.AdVideoComplete="AdVideoComplete",f.AdClickThru="AdClickThru",f.AdInteraction="AdInteraction",f.AdUserAcceptInvitation="AdUserAcceptInvitation",f.AdUserMinimize="AdUserMinimize",f.AdUserClose="AdUserClose",f.AdPaused="AdPaused",f.AdPlaying="AdPlaying",f.AdLog="AdLog",f.AdError="AdError",A={},A.MRCViewable="MRCViewable",A.MRCUnviewable="MRCUnviewable",v={injectScripts:function(t,i){if(i&&i.length)for(var a in i)if(i.hasOwnProperty(a)){var r=e.createElement("script");r.type="text/javascript",r.src=i[a],t.appendChild(r)}},injectIFrames:function(t,i){if(d.customParams.sf>0){var a=e.createElement("iframe");a.src=h.protocol()+"//cstatic.weborama.fr/iframe/external_all.html",a.style.cssText="width:1px;height:1px;visibility:hidden;position:absolute;border:0",t.appendChild(a)}if(i&&i.length)for(var r in i)if(i.hasOwnProperty(r)){var a=e.createElement("iframe");a.src=i[r],a.style.cssText="width:1px;height:1px;visibility:hidden;position:absolute;border:0",t.appendChild(a)}},log:function(){i&&console.log.apply(console,["JS-VPAID-WCM::INFO =>"].concat(arguments))},warn:function(){console.log.apply(console,["JS-VPAID-WCM::WARN =>"].concat(arguments))},error:function(){console.log.apply(console,["JS-VPAID-WCM::ERROR =>"].concat(arguments))}},c=function(){console.log("JS-VPAID-WCM::INFO => 2018-10-22T09:58:41.393Z")},c.prototype.handshakeVersion=function(){return"2.0"},c.prototype.initAd=function(r,o,c,u,A,g){function E(i,a,r,o){var n=e.createElement("script"),s={events:[],addEvent:function(t){c.sendEvent?(s.events&&(c.sendEvent(s.events),s.events=!1),c.sendEvent(t)):s.events.push(t)}},d=function(t){return function(){var e,a=-1;if(i&&i.getAdVolume&&(e=i.getAdVolume()),"number"==typeof e&&!isNaN(e)&&0<=e&&(a=e),s.addEvent({type:t,adVolume:a}),-1!==h.indexOf(t)&&i&&i.unsubscribe&&!l){l=!0;for(var r in u)if(u.hasOwnProperty&&u.hasOwnProperty(r))try{i.unsubscribe(u[r],r)}catch(o){}}}},c={adData:{ids:r,vpaid:i,build:"cc07a80-clean"},dispatchEvent:s.addEvent};r="_moatApi"+Math.floor(1e8*Math.random());var u={AdStarted:d("AdStarted"),AdStopped:d("AdStopped"),AdSkipped:d("AdSkipped"),AdLoaded:d("AdLoaded"),AdLinearChange:d("AdLinearChange"),AdSizeChange:d("AdSizeChange"),AdExpandedChange:d("AdExpandedChange"),AdSkippableStateChange:d("AdSkippableStateChange"),AdDurationChange:d("AdDurationChange"),AdRemainingTimeChange:d("AdRemainingTimeChange"),AdVolumeChange:d("AdVolumeChange"),AdImpression:d("AdImpression"),AdClickThru:d("AdClickThru"),AdInteraction:d("AdInteraction"),AdVideoStart:d("AdVideoStart"),AdVideoFirstQuartile:d("AdVideoFirstQuartile"),AdVideoMidpoint:d("AdVideoMidpoint"),AdVideoThirdQuartile:d("AdVideoThirdQuartile"),AdVideoComplete:d("AdVideoComplete"),AdUserAcceptInvitation:d("AdUserAcceptInvitation"),AdUserMinimize:d("AdUserMinimize"),AdUserClose:d("AdUserClose"),AdPaused:d("AdPaused"),AdPlaying:d("AdPlaying"),AdError:d("AdError")},l=!1,h=["AdStopped","AdSkipped","AdVideoComplete"];!function(){if(i&&i.subscribe)for(var t in u)u.hasOwnProperty&&u.hasOwnProperty(t)&&i.subscribe(u[t],t)}();var p,m;try{p=a.ownerDocument,m=p.defaultView||p.parentWindow}catch(f){p=e,m=t}return m[r]=c,n.type="text/javascript",a&&a.insertBefore(n,a.childNodes[0]||null),n.src="https://z.moatads.com/"+o+"/moatvideo.js#"+r,c}if("string"==typeof A&&(A={AdParameters:A},v.warn('The typeof parameter "creativeData" should be an "object" with key "AdParameters"'),v.warn("Read page 44 from https://www.iab.com/wp-content/uploads/2015/06/VPAID_2_0_Final_04-10-2012.pdf")),"object"!=typeof A||!A.AdParameters||"object"!=typeof g||!g.slot)return v.error(s.WRONG_INIT_PARAMS),v.error("initAd",arguments),n.d(f.create(f.AdError,s.WRONG_INIT_PARAMS));try{d.adParameters=JSON.parse(A.AdParameters)}catch(y){return v.error(s.WRONG_AD_PARAMETERS),v.error("initAd",arguments),n.d(f.create(f.AdError,s.WRONG_AD_PARAMETERS))}var b={cet:0,cf:0,co:5,ct:1,daf:750,dm:0,dmmt:0,fl:0,fdc:0,impid:0,moat:0,nr:0,plc:0,pg:0,sd:0,sf:0,sk:1,ss:1,st:1,up:0,us:0,utm:0};try{if(d.adParameters.cp)for(var P=decodeURIComponent(d.adParameters.cp).split("|"),S=0;S<P.length;S++)if(P[S]){var w=P[S].split(":");2==w.length&&""!=w[1]?"undefined"!=typeof b[w[0]]?b[w[0]]=w[1].match(/[a-zA-Z]/i)?w[1]:parseInt(w[1],10):b[w[0]]=w[1]:b[w[0]]=!0}}catch(y){}if(d.customParams=b,d.adSize={width:r,height:o},i=!!d.customParams.dm,d.defaultVolume=.5,v.log("initAd",arguments),g.videoSlot&&"undefined"!=typeof g.videoSlot.attributes)for(var C,S=0,T=g.videoSlot.attributes,V=T.length;S<V;S++)C=T[S],d.savedAttributes[C.nodeName]=C.nodeValue;var _=[f.AdImpression,f.AdVideoStart,f.AdVideoFirstQuartile,f.AdVideoMidpoint,f.AdVideoThirdQuartile,f.AdVideoComplete],D={};if(d.adParameters.pixel&&d.adParameters.pixel.length)for(var S=0;S<d.adParameters.pixel.length;S++){var R=d.adParameters.pixel[S];D[R.name]=R.url}if(h.init(d.adParameters.wcm,_,D),g.slot&&1===g.slot.nodeType||(g.slot=e.body,v.warn('Invalid parameter "environmentVars.slot"')),!g.videoSlot||1===g.videoSlot.nodeType&&"VIDEO"===g.videoSlot.nodeName.toUpperCase()||g.videoSlot.f&&g.videoSlot.f.indexOf("goog_")!=-1||(g.videoSlot=null,v.warn('Invalid parameter "environmentVars.videoSlot"')),l.init(g.slot,g.videoSlot?g.videoSlot:null),p=new a(l.root),p.init(d.adParameters.mrcTracker,function(t){d.flags[t]=!0,h.customEvent(t)}.bind(this)),v.injectScripts(l.root,d.adParameters.scripts),v.injectIFrames(l.root,d.adParameters.frames),d.customParams.moat){var I={level1:d.adParameters.wcm.account,level2:d.adParameters.wcm.campaign,level3:d.adParameters.wcm.site,level4:d.adParameters.wcm.insertion},M="weboramajsvpaid879197115859";E(m,g.slot,I,M)}h.customEvent(p.getPosition())},c.prototype.startAd=function(){v.log("startAd"),u.play()&&(d.state=f.AdStarted)},c.prototype.stopAd=function(){v.log("stopAd"),u.stop(),p.stop(),l.destroy()&&(d.state=f.AdStopped)},c.prototype.skipAd=function(){this.getAdSkippableState()&&(v.log("skipAd"),d.state=f.AdSkipped,u.stop(),p.stop(),l.hide(!0),setTimeout(function(){m.stopAd()},d.customParams.daf))},c.prototype.resizeAd=function(t,e,i){v.log("resizeAd",arguments),d.adSize={width:t,height:e},l.updateSize()},c.prototype.pauseAd=function(){u.pause(),p.pause()},c.prototype.resumeAd=function(){u.resume(),p.start()},c.prototype.expandAd=function(){n.d(f.create(f.AdLog,s.NOT_ALLOWED_METHOD))},c.prototype.collapseAd=function(){n.d(f.create(f.AdLog,s.NOT_ALLOWED_METHOD))},c.prototype.setAdVolume=function(t){v.log("setAdVolume",t),t="string"==typeof t?parseInt(t,10):t,t>1&&(t/=100),t<0&&(t=0),d.mute=!t,d.volume=t},c.prototype.getAdVolume=function(){return d.mute?0:d.volume},c.prototype.getAdDuration=function(){return d.metaData?d.metaData.totalTime:-2},c.prototype.getAdLinear=function(){return d.linear},c.prototype.getAdWidth=function(){return d.adSize.width},c.prototype.getAdHeight=function(){return d.adSize.height},c.prototype.getAdRemainingTime=function(){return d.remainingTime},c.prototype.getAdExpanded=function(){return!0},c.prototype.getAdSkippableState=function(){return d.canSkip},c.prototype.getAdIcons=function(){return!1},c.prototype.getAdCompanions=function(){return""},c.prototype.subscribe=function(t,e,i){n.subscribe(t,e,i)},c.prototype.unsubscribe=function(t,e){n.unsubscribe(t,e)},t.getVPAIDAd=function(){return m||(m=new c),m}}(window,document);